{"version":3,"sources":["webpack:///src/app/pages/delete-account/delete-account.page.html","webpack:///src/app/pages/delete-account/delete-account-routing.module.ts","webpack:///src/app/pages/delete-account/delete-account.module.ts","webpack:///src/app/pages/delete-account/delete-account.page.scss","webpack:///src/app/pages/delete-account/delete-account.page.ts"],"names":["routes","path","component","DeleteAccountPageRoutingModule","imports","forChild","exports","DeleteAccountPageModule","declarations","DeleteAccountPage","router","afdb","dataService","loading","statusService","getCurrentUser","currentUser","uid","valueChanges","subscribe","user","phoneNumber","navigateByUrl","show","object","query","orderByChild","equalTo","once","snap","database","ref","child","remove","then","signOut","success","hide","selector","template"],"mappings":"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","file":"pages-delete-account-delete-account-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Delete my account</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div>\\n    <ion-icon name=\\\"newspaper\\\" slot=\\\"start\\\"></ion-icon>\\n    <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n      <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n        Deleting your account will:\\n      </span>\\n      <span style=\\\"display: flex;margin-top: 6px;\\\">\\n        <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n          <p>.Delete your account from WhatsApp from pagas</p>\\n          <p>.Erase your message history</p>\\n          <p>.Delete you from all of your WhatsApp, groups</p>\\n        </span>\\n\\n      </span>\\n    </ion-label>\\n  </div>\\n\\n  <div style=\\\"padding: 10px; padding-top: 20%;\\\">\\n    <ion-icon name=\\\"newspaper\\\" slot=\\\"start\\\"></ion-icon>\\n    <span style=\\\"font-size:16px; text-transform: capitalize; padding: 10px;\\\">\\n      Change number instead?\\n    </span>\\n    <ion-button (click)=\\\"change()\\\" expand=\\\"block\\\" color=\\\"primary\\\">\\n      CHANGE NUMBER\\n    </ion-button>\\n  </div>\\n\\n\\n  <ion-item lines=\\\"none\\\" style=\\\"text-align: center; padding-top: 20%;\\\">\\n    <ion-input [(ngModel)]=\\\"phoneNumber\\\" type=\\\"text\\\" placeholder=\\\"e.g +2348034524290\\\">\\n    </ion-input>\\n  </ion-item>\\n\\n  <ion-button (click)=\\\"delete()\\\" expand=\\\"block\\\" color=\\\"danger\\\">\\n    DELETE MY ACCOUNT\\n  </ion-button>\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DeleteAccountPage } from './delete-account.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DeleteAccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DeleteAccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DeleteAccountPageRoutingModule } from './delete-account-routing.module';\n\nimport { DeleteAccountPage } from './delete-account.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DeleteAccountPageRoutingModule\n  ],\n  declarations: [DeleteAccountPage]\n})\nexport class DeleteAccountPageModule {}\n","export default \"p {\\n  padding: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGVsZXRlLWFjY291bnQvZGVsZXRlLWFjY291bnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZGVsZXRlLWFjY291bnQvZGVsZXRlLWFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIHBhZGRpbmc6IDVweDtcclxufSJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { StatusService } from './../../services/status.service';\nimport { LoadingService } from './../../services/loading.service';\nimport { DataService } from './../../services/data.service';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-delete-account',\n  templateUrl: './delete-account.page.html',\n  styleUrls: ['./delete-account.page.scss'],\n})\nexport class DeleteAccountPage implements OnInit {\n\n  phoneNumber: any;\n  constructor(\n    private router: Router,\n    public afdb: AngularFireDatabase,\n    public dataService: DataService,\n    public loading: LoadingService,\n    public statusService: StatusService\n  ) { }\n\n  ngOnInit() {\n    this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((user) => {\n      // pass the parameter to the veriable \n      this.phoneNumber = user.phoneNumber;\n    })\n\n  }\n  // make route to change number\n  change() {\n    this.router.navigateByUrl('/changenumber')\n  }\n\n  //Delete your account and database\n  delete() {\n    this.loading.show();\n    this.afdb.object('/account' + firebase.auth().currentUser.uid).query.orderByChild('phoneNumber').equalTo(this.phoneNumber).once('value', snap => {\n      this.afdb.database.ref('/account').child(firebase.auth().currentUser.uid).remove().then(() => {\n        firebase.auth().signOut().then((success) => {\n          this.loading.hide()\n          this.router.navigateByUrl('/welcome')\n        })\n      })\n    })\n  }\n\n\n}\n"]}