{"version":3,"sources":["webpack:///src/app/pages/newgroup/newgroup.page.html","webpack:///src/app/pages/newgroup/newgroup-routing.module.ts","webpack:///src/app/pages/newgroup/newgroup.module.ts","webpack:///src/app/pages/newgroup/newgroup.page.scss","webpack:///src/app/pages/newgroup/newgroup.page.ts"],"names":["routes","path","component","NewgroupPageRoutingModule","imports","forChild","exports","NewgroupPageModule","declarations","NewgroupPage","toastController","dataService","formBuilder","camera","imageService","loading","angularDb","router","actionSheetController","navCtrl","group","groupMembers","processe","currentUserId","currentUser","uid","groupPhotoOptionCamera","quality","targetHeight","targetWidth","sourceType","PictureSourceType","CAMERA","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","correctOrientation","groupPhotoOptionGallery","PHOTOLIBRARY","formGroup","name","compose","required","minLength","maxLength","img","searchUser","getUsers","valueChanges","subscribe","accounts","getCurrentUser","account","createName","nikeName","length","create","message","position","duration","toast","present","presentToast","friend","i","userId","push","index","splice","Promise","resolve","getPicture","then","url","header","buttons","text","icon","handler","setGroupPhoto","role","actionSheet","toastPresent","promise","reject","show","messages","date","Date","toString","type","members","dateCreated","value","admin","createdBy","list","success","groupId","key","update","conversation","me","view","convasation","object","messagesRead","database","ref","child","showToast","hide","pop","selector","template"],"mappings":"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","file":"pages-newgroup-newgroup-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <div style=\\\"padding-left: 5px;\\\">\\n      <span style=\\\"font-size: 17px;\\n    font-weight: 600;\\n    text-overflow: ellipsis;\\n    letter-spacing: 0.3px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    display: block;\\\">New group</span>\\n      <div *ngIf=\\\"!processe\\\">\\n        <div *ngIf=\\\"groupMembers.length <= 1\\\">\\n          <span>Add participants</span>\\n        </div>\\n        <div *ngIf=\\\"groupMembers.length >= 2\\\">\\n          <ion-label class=\\\"ion-text-center\\\">Group Members ({{groupMembers.length}})</ion-label>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"processe\\\">\\n        <span>Add subject</span>\\n      </div>\\n    </div>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"!processe\\\" style=\\\"padding-top: 10px; padding-bottom: 20px;\\\">\\n    <div class=\\\"groupAdded\\\">\\n      <!-- Members -->\\n      <!-- <ion-item lines=\\\"none\\\" *ngIf=\\\"groupMembers\\\">\\n      </ion-item> -->\\n      <div class=\\\"thumnails\\\" *ngIf=\\\"groupMembers\\\">\\n        <div class=\\\"list-thumbnail\\\">\\n          <div class=\\\"img-thumb\\\" *ngFor=\\\"let member of groupMembers\\\" (click)=\\\"removeFromGroup(member)\\\">\\n            <ion-avatar>\\n              <img [src]=\\\"member.img\\\" />\\n            </ion-avatar>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <ion-list *ngFor=\\\"let account of accounts\\\">\\n      <ion-item style=\\\"background-color:transparent !important; padding-left:0 !important; margin-left:0 !important;\\\"\\n        *ngIf=\\\"!inGroup(account)\\\" (click)=\\\"addToGroup(account); $event.stopPropagation();\\\">\\n        <div class=\\\"profileimage\\\">\\n          <img src=\\\"{{account.img}}\\\" alt=\\\"\\\">\\n        </div>\\n        <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n          <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n            {{account.nikeName}}\\n          </span>\\n          <span style=\\\"display: flex;margin-top: 6px;\\\">\\n            <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n              {{account.description}}\\n            </span>\\n          </span>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item style=\\\"background-color:transparent !important; padding-left:0 !important; margin-left:0 !important;\\\"\\n        *ngIf=\\\"inGroup(account)\\\" (click)=\\\"removeFromGroup(account); $event.stopPropagation();\\\">\\n        <div class=\\\"profileimage\\\">\\n          <img src=\\\"{{account.img}}\\\" alt=\\\"\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"checkmark-circle\\\" color=\\\"primary\\\"\\n            style=\\\"margin-bottom:0 !important;margin-left:29px !important;margin-top:33px !important; position: absolute; font-size: x-large;\\\">\\n          </ion-icon>\\n        </div>\\n\\n        <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n          <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n            {{account.nikeName}}\\n          </span>\\n          <span style=\\\"display: flex;margin-top: 6px;\\\">\\n            <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n              {{account.description}}\\n            </span>\\n          </span>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" *ngIf=\\\"!processe\\\">\\n    <ng-container>\\n      <ion-fab-button (click)=\\\"presentToast()\\\">\\n        <ion-icon expand=\\\"icon-only\\\" name=\\\"arrow-forward-outline\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ng-container>\\n  </ion-fab>\\n  <div *ngIf=\\\"processe\\\">\\n    <div style=\\\"padding-top: 10px;\\\">\\n      <form [formGroup]=\\\"formGroup\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <div class=\\\"headers\\\">\\n            <img src=\\\"assets/camera.png\\\" *ngIf=\\\"group.img == ''\\\" (click)=\\\"setGroupPhoto()\\\">\\n            <img src=\\\"{{group.img}}\\\" *ngIf=\\\"group.img != ''\\\" (click)=\\\"setGroupPhoto()\\\">\\n          </div>\\n\\n          <ion-item>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"name\\\" placeholder=\\\"Type group sub here\\\" [(ngModel)]=\\\"groupName\\\">\\n            </ion-input>\\n            <ion-icon slot=\\\"end\\\" src=\\\"assets/smile.svg\\\"></ion-icon>\\n          </ion-item>\\n        </ion-item>\\n        <p style=\\\"text-align: center;\\\">Provide a group subject and optional group icon</p>\\n        <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n          <ng-container>\\n            <ion-fab-button style=\\\"margin-top: 6pc;\\\" [disabled]=\\\"!formGroup.valid\\\" (click)=\\\"newGroup()\\\">\\n              <ion-icon expand=\\\"icon-only\\\" name=\\\"checkmark\\\"></ion-icon>\\n            </ion-fab-button>\\n          </ng-container>\\n        </ion-fab>\\n      </form>\\n    </div>\\n\\n    <div class=\\\"backgrondColor\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col sizeLg=\\\"4\\\" sizeMd=\\\"4\\\" sizeXs=\\\"4\\\" *ngFor=\\\"let account of groupMembers\\\">\\n            <div class=\\\"img-wrapper\\\" [style.background-image]=\\\"'url('+ account.img +')'\\\">\\n            </div>\\n            <div class=\\\"usernameView\\\">{{account.nikeName}}</div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </div>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewgroupPage } from './newgroup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewgroupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewgroupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewgroupPageRoutingModule } from './newgroup-routing.module';\n\nimport { NewgroupPage } from './newgroup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    NewgroupPageRoutingModule\n  ],\n  declarations: [NewgroupPage]\n})\nexport class NewgroupPageModule {}\n","export default \".thumnails {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n}\\n.thumnails .list-thumbnail {\\n  height: 100%;\\n  white-space: nowrap;\\n}\\n.thumnails .list-thumbnail .img-thumb {\\n  display: inline-block;\\n  border-radius: 4px;\\n  width: 50px;\\n  margin: 0 15px 0 0;\\n  line-height: 60px;\\n}\\n::-webkit-scrollbar {\\n  display: none;\\n}\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n.usernameView {\\n  text-align: center;\\n  font-size: small;\\n  font-weight: bolder;\\n}\\ndiv.profileimage {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\ndiv.profileimage img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\ndiv.headers {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\ndiv.headers img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\n.backgrondColor {\\n  padding-top: 10px;\\n  background: #dbdada;\\n  height: 80vh;\\n}\\n.img-wrapper {\\n  min-height: 100px;\\n  width: 100%;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  border-radius: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbmV3Z3JvdXAvbmV3Z3JvdXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtBQUNKO0FBQUk7RUFDSSxZQUFBO0VBQ0EsbUJBQUE7QUFFUjtBQURRO0VBQ0kscUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBR1o7QUFDQTtFQUNJLGFBQUE7QUFFSjtBQUFBO0VBQ0kseUJBQUE7QUFHSjtBQURBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FBSUo7QUFGQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFLSjtBQUpJO0VBQ0ksWUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQU1SO0FBRkE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FBS0o7QUFKSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFNUjtBQUZBO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUFLSjtBQUZBO0VBQ0ksaUJBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7RUFDQSw0QkFBQTtFQUNBLG1CQUFBO0FBS0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9uZXdncm91cC9uZXdncm91cC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bW5haWxzIHtcclxuICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcclxuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcclxuICAgIC5saXN0LXRodW1ibmFpbCB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICAgICAgLmltZy10aHVtYiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIDE1cHggMCAwO1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNjBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbmlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcclxuICAgIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XHJcbn1cclxuLnVzZXJuYW1lVmlldyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IHNtYWxsO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxufVxyXG5kaXYucHJvZmlsZWltYWdlIHtcclxuICAgIHBhZGRpbmc6IDNweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgaW1nIHtcclxuICAgICAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgd2lkdGg6IDU4cHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIH1cclxufVxyXG5cclxuZGl2LmhlYWRlcnMge1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICB3aWR0aDogNThweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcblxyXG4uYmFja2dyb25kQ29sb3Ige1xyXG4gICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZGJkYWRhO1xyXG4gICAgaGVpZ2h0OiA4MHZoO1xyXG59XHJcblxyXG4uaW1nLXdyYXBwZXIge1xyXG4gICAgbWluLWhlaWdodDogMTAwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxufVxyXG5cclxuIl19 */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { ImageService } from './../../services/image.service';\nimport { DataService } from './../../services/data.service';\nimport { ToastController, IonNav, ActionSheetController, NavController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport * as firebase from 'firebase';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { LoadingService } from 'src/app/services/loading.service';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Router } from '@angular/router';\nimport { Validators, FormGroup, FormBuilder, FormControl } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-newgroup',\n  templateUrl: './newgroup.page.html',\n  styleUrls: ['./newgroup.page.scss'],\n})\nexport class NewgroupPage implements OnInit {\n\n  public group = <any>{};\n\n  searchUser: any;\n  accounts: any;\n  account: any;\n  currentUserId: any;\n  groupMembers = [];\n  processe = false;\n  groupName: any;\n  public formGroup: FormGroup;\n  createName: any;\n\n\n\n  groupPhotoOptionCamera: CameraOptions;\n  groupPhotoOptionGallery: CameraOptions;\n\n\n  constructor(\n    private toastController: ToastController,\n    public dataService: DataService,\n    private formBuilder: FormBuilder,\n    private camera: Camera,\n    private imageService: ImageService,\n    private loading: LoadingService,\n    public angularDb: AngularFireDatabase,\n    private router: Router,\n    private actionSheetController: ActionSheetController,\n    private navCtrl: NavController\n  ) {\n    this.currentUserId = firebase.auth().currentUser.uid;\n\n    this.groupPhotoOptionCamera = {\n      quality: 100,\n      targetHeight: 530,\n      targetWidth: 530,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      correctOrientation: true,\n      // allowEdit: true\n    }\n    this.groupPhotoOptionGallery = {\n      quality: 100,\n      targetHeight: 530,\n      targetWidth: 530,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      correctOrientation: true,\n      // allowEdit: true\n    }   // for ali erroe side \n    this.formGroup = this.formBuilder.group({\n      name: new FormControl('', Validators.compose([\n        Validators.required,\n        Validators.minLength(5),\n        Validators.maxLength(30),\n      ]))\n\n    });\n\n\n  }\n\n  ngOnInit() {\n    // Initialize the imagbe fro ther group \n    this.group = {\n      img: ''\n    };\n    //Initialized\n    this.searchUser = \"\";\n    this.dataService.getUsers().valueChanges().subscribe((accounts) => {\n      this.accounts = accounts;\n      this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((account) => {\n        this.groupMembers = [account];\n        this.createName = account.nikeName;\n        //add own userId as excludedIds.\n        this.account = account;\n      })\n    })\n  }\n\n  async presentToast() {\n    if (this.groupMembers.length <= 1) {\n      const toast = await this.toastController.create({\n        message: 'At least 1 user must be selected',\n        position: \"middle\",\n        duration: 2000\n      });\n      toast.present();\n    } else {\n      this.processe = true;\n    }\n  }\n\n  processed() {\n    this.presentToast()\n  }\n\n  // Check if friend is already added to the group or not.\n  inGroup(friend) {\n    for (var i = 0; i < this.groupMembers.length; i++) {\n      if (this.groupMembers[i].userId == friend.userId) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  //Add friend to member of groups\n  addToGroup(account) {\n    this.groupMembers.push(account)\n  }\n  // Remove friend from members of group.\n  removeFromGroup(account) {\n    var index = -1;\n    for (var i = 1; i < this.groupMembers.length; i++) {\n      if (this.groupMembers[i].userId == account.userId) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.groupMembers.splice(index, 1);\n    }\n  }\n\n\n  // set the image to group photo \n  setImageCamera() {\n    return new Promise((resolve) => {\n      this.camera.getPicture(this.groupPhotoOptionCamera).then((url) => {\n        this.group = \"data:image/jpeg;base64,\" + url;\n        resolve(true)\n      })\n    })\n  }\n  setImageGallery() {\n    return new Promise((resolve) => {\n      this.camera.getPicture(this.groupPhotoOptionGallery).then((url) => {\n        this.group = \"data:image/jpeg;base64,\" + url;\n        resolve(true)\n      })\n    })\n  }\n\n\n  // action sheet for setPhoto image\n  async setGroupPhoto() {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Select Profile Picture',\n      buttons: [\n        {\n          text: 'Camera',\n          icon: 'camera',\n          handler: () => {\n            this.imageService.setGroupPhoto(this.group, this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: 'Gallery',\n          icon: 'images',\n          handler: () => {\n            this.imageService.setGroupPhoto(this.group, this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        }, {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel',\n          handler: () => {\n\n          }\n        }]\n    });\n    await actionSheet.present();\n  }\n  async showToast(message: string) {\n    const toastPresent = await this.toastController.create({\n      message: message,\n      duration: 300,\n      position: 'top'\n    })\n    toastPresent.present();\n  }\n\n  newGroup() {\n    var promise = new Promise((resolve, reject) => {\n      this.loading.show();\n      var messages = []\n      //add system message that group is created\n      messages.push({\n        date: new Date().toString(),\n        userId: firebase.auth().currentUser.uid,\n        type: 'system',\n        message: 'This group has been created by \"' + this.createName + '\".',\n        icon: 'chatbubbles'\n      });\n      // Add members of the group\n      var members = [];\n      for (let i = 0; i < this.groupMembers.length; i++) {\n        //let push the group member to member with only userId\n        members.push(this.groupMembers[i].userId);\n      }\n\n      //Add group information and date\n      this.group.dateCreated = new Date().toString(),\n        this.group.messages = messages;\n      this.group.members = members;\n      if (this.group.img == '') {\n        this.group.img = \"assets/profile.png\";\n      }\n      this.group.name = this.formGroup.value[\"name\"];\n      this.group.admin = [firebase.auth().currentUser.uid];\n      this.group.createdBy = this.createName;\n\n      // Lets add to firebase database\n      this.angularDb.list('/groups/').push(this.group).then((success) => {\n        var groupId = success.key;\n        //update the key\n        success.update({\n          key: groupId\n        });\n        var conversation = {\n          key: groupId,\n          me: \"me\",\n          // message: 'This group has been created.',\n          type: 'text',\n          view: 'group',\n          // read: 'unread',\n          date: new Date().toString(),\n        }\n        var convasation = {\n          key: groupId,\n          // message: 'This group has been created.',\n          me: \"you\",\n          type: 'text',\n          view: 'group',\n          // read: 'unread',\n          date: new Date().toString(),\n        }\n        //add group referenceuser to user;\n        for (let i = 0; i < this.groupMembers.length; i++) {\n          this.angularDb.object('/accounts/' + this.groupMembers[i].userId + '/groups/' + groupId).update({\n            messagesRead: 1,\n            key: groupId\n          });\n          this.angularDb.database.ref('conversations').child(this.groupMembers[i].userId).push(convasation).then(() => {\n            resolve(true);\n          }).then(() => {\n            this.showToast('Your groups has been created')\n            this.loading.hide();\n            this.navCtrl.pop();\n          })\n\n        }\n      })\n    })\n    return promise;\n  }\n\n\n\n}\n"]}