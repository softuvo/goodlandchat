{"version":3,"sources":["./src/app/pages/calllist/calllist.page.html","./src/app/pages/calllist/calllist-routing.module.ts","./src/app/pages/calllist/calllist.module.ts","./src/app/pages/calllist/calllist.page.scss","./src/app/pages/calllist/calllist.page.ts"],"names":[],"mappings":"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","file":"pages-calllist-calllist-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Make call</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngFor=\\\"let item of accounts\\\">\\n    <ion-item *ngIf=\\\"item.userId != currentUserId\\\">\\n      <div class=\\\"profileimage\\\">\\n        <img src=\\\"{{item.img}}\\\" />\\n      </div>\\n      <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n        <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n          {{item.nikeName}}\\n        </span>\\n        <span style=\\\"display: flex;margin-top: 6px;\\\">\\n          <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n            {{item.description}}\\n          </span>\\n        </span>\\n      </ion-label>\\n      <ion-icon color=\\\"secondary\\\" name=\\\"call\\\" slot=\\\"end\\\" (click)=\\\"call(item)\\\"></ion-icon>\\n      <ion-icon color=\\\"secondary\\\" name=\\\"videocam\\\" slot=\\\"end\\\" (click)=\\\"videoCall(item)\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CalllistPage } from './calllist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CalllistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CalllistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CalllistPageRoutingModule } from './calllist-routing.module';\n\nimport { CalllistPage } from './calllist.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CalllistPageRoutingModule\n  ],\n  declarations: [CalllistPage]\n})\nexport class CalllistPageModule {}\n","export default \"ion-icon {\\n  padding-right: 15px;\\n}\\n\\ndiv.profileimage {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\n\\ndiv.profileimage img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2FsbGxpc3QvY2FsbGxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFBSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFFUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhbGxsaXN0L2NhbGxsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pY29uIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbn1cclxuXHJcbmRpdi5wcm9maWxlaW1hZ2Uge1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICB3aWR0aDogNThweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { LoadingService } from 'src/app/services/loading.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-calllist',\n  templateUrl: './calllist.page.html',\n  styleUrls: ['./calllist.page.scss'],\n})\nexport class CalllistPage implements OnInit {\n\n  excludedIds: any;\n  searchUser: any;\n  accounts: any;\n  account: any;\n  currentUserId: any;\n\n  constructor(\n    public loading: LoadingService,\n    public dataService: DataService,\n    // private network: Network,\n    private callNumber: CallNumber,\n    private toast: ToastController,\n    private router: Router,\n    private afDB: AngularFireDatabase,\n\n  ) {\n    // pass the currernt userId to the variable \n    this.currentUserId = firebase.auth().currentUser.uid;\n  }\n\n  ngOnInit() {\n    //Initialized\n    this.searchUser = \"\";\n    this.dataService.getUsers().valueChanges().subscribe((accounts) => {\n      this.accounts = accounts;\n\n      // get current user info\n      this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((account) => {\n        //add own userId as excludedIds.\n        this.excludedIds = [];\n        this.account = account;\n        if (this.excludedIds.indexOf(account.userId) == -1) {\n          this.excludedIds.push(account.userId);\n        }\n      })\n    })\n  }\n\n  // make call, the item handle the object of each data touch\n  call(item) {\n    this.callNumber.callNumber(`${item.phoneNumber}`, true).then(() => {\n      // fetch the data to current database\n      this.afDB.list('/accounts/' + firebase.auth().currentUser.uid + '/call/').push({\n        date: new Date().toString(),\n        userId: item.userId,\n        type: 'calling',\n        icon: 'call',\n        call: 'call'\n      }).then(() => {\n        this.afDB.list('/accounts/' + item.userId + '/call/').push({\n          date: new Date().toString(),\n          userId: firebase.auth().currentUser.uid,\n          type: 'calling',\n          icon: 'call',\n          call: 'misscall'\n        })\n      })\n      // if something goes wrong handle toast notify\n    }).catch(err => this.something());\n  }\n\n  // toast notification\n  async something() {\n    const toast = await this.toast.create({\n      message: 'Something going wrong.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  // make the vieo call, then router take part\n  videoCall(item) {\n    this.router.navigate([\"/calling\", { 'image': item.img, 'name': item.nikeName, 'userId': item.userId }])\n  }\n\n}\n"],"sourceRoot":"webpack:///"}