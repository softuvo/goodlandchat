{"version":3,"sources":["webpack:///src/app/pages/addmembers/addmembers.page.html","webpack:///src/app/pages/addmembers/addmembers-routing.module.ts","webpack:///src/app/pages/addmembers/addmembers.module.ts","webpack:///src/app/pages/addmembers/addmembers.page.scss","webpack:///src/app/pages/addmembers/addmembers.page.ts"],"names":["routes","path","component","AddmembersPageRoutingModule","imports","forChild","exports","AddmembersPageModule","declarations","AddmembersPage","actRoute","dataService","loading","angularDb","navCtrl","memberslist","membersUpdate","ID","snapshot","paramMap","get","members","toAdd","valueChanges","subscribe","length","groups","broadcast","forEach","memberId","getUser","member","addOrUpdateMember","getUsers","accounts","getCurrentUser","currentUser","uid","user","userId","index","i","push","account","splice","show","messages","date","Date","toString","type","message","nikeName","getNames","icon","update","then","hide","pop","names","userData","substring","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,2BAA2B;AAAA;AAAA,O;;AAA3BA,iCAA2B,6DAJvC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIuC,GAA3BH,2BAA2B,CAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,oBAAoB;AAAA;AAAA,O;;AAApBA,0BAAoB,6DAThC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,sFAJO,CADD;AAORI,oBAAY,EAAE,CAAC,+DAAD;AAPN,OAAT,CASgC,GAApBD,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;;;;;UAoBaE,cAAc;AAgBzB,gCACUC,QADV,EAESC,WAFT,EAGSC,OAHT,EAISC,SAJT,EAKUC,OALV,EAKgC;AAAA;;AAJtB,eAAAJ,QAAA,GAAAA,QAAA;AACD,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACC,eAAAC,OAAA,GAAAA,OAAA;AAbV,eAAAC,WAAA,GAAc,EAAd;AACA,eAAAC,aAAA,GAAgB,EAAhB;AAcE,eAAKC,EAAL,GAAU,KAAKP,QAAL,CAAcQ,QAAd,CAAuBC,QAAvB,CAAgCC,GAAhC,CAAoC,IAApC,CAAV,CAF8B,CAG9B;AAED;;AA1BwB;AAAA;AAAA,qCA4Bd;AAAA;;AACT,iBAAKC,OAAL;AACA,iBAAKC,KAAL,GAAa,EAAb,CAFS,CAGT;;AACA,iBAAKX,WAAL,CAAiBU,OAAjB,CAAyB,KAAKJ,EAA9B,EAAkCM,YAAlC,GAAiDC,SAAjD,CAA2D,UAACC,MAAD,EAAY;AACrE,mBAAI,CAACJ,OAAL,GAAeI,MAAM,CAACA,MAAtB;AACD,aAFD,EAJS,CAQT;;AACA,iBAAKd,WAAL,CAAiBe,MAAjB,CAAwB,KAAKT,EAA7B,EAAiCM,YAAjC,GAAgDC,SAAhD,CAA0D,UAACG,SAAD,EAAe;AACvE,mBAAI,CAACA,SAAL,GAAiBA,SAAjB;;AACA,kBAAIA,SAAS,CAACN,OAAd,EAAuB;AACrBM,yBAAS,CAACN,OAAV,CAAkBO,OAAlB,CAA0B,UAACC,QAAD,EAAc;AACtC,uBAAI,CAAClB,WAAL,CAAiBmB,OAAjB,CAAyBD,QAAzB,EAAmCN,YAAnC,GAAkDC,SAAlD,CAA4D,UAACO,MAAD,EAAY;AACtE;AACA,yBAAI,CAACC,iBAAL,CAAuBD,MAAvB;AACD,mBAHD;AAID,iBALD;AAMD;AACF,aAVD,EATS,CAoBT;;AACA,iBAAKpB,WAAL,CAAiBsB,QAAjB,GAA4BV,YAA5B,GAA2CC,SAA3C,CAAqD,UAACU,QAAD,EAAc;AACjE,mBAAI,CAACA,QAAL,GAAgBA,QAAhB,CADiE,CAEjE;AACD,aAHD,EArBS,CAyBT;;AACA,iBAAKvB,WAAL,CAAiBwB,cAAjB,CAAgC,gDAAgBC,WAAhB,CAA4BC,GAA5D,EAAiEd,YAAjE,GAAgFC,SAAhF,CAA0F,UAACc,IAAD,EAAU;AAClG,mBAAI,CAACA,IAAL,GAAYA,IAAZ;AACA,mBAAI,CAACC,MAAL,GAAcD,IAAI,CAACC,MAAnB;AACD,aAHD;AAID,WA1DwB,CA4DzB;;AA5DyB;AAAA;AAAA,4CA6DPR,MA7DO,EA6DC;AACxB,gBAAI,CAAC,KAAKhB,WAAV,EAAuB;AACrB,mBAAKA,WAAL,GAAmB,CAACgB,MAAD,CAAnB;AACD,aAFD,MAEO;AACL,kBAAIS,KAAK,GAAG,CAAC,CAAb;;AACA,mBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1B,WAAL,CAAiBU,MAArC,EAA6CgB,CAAC,EAA9C,EAAkD;AAChD,oBAAI,KAAK1B,WAAL,CAAiB0B,CAAjB,EAAoBF,MAApB,IAA8BR,MAAM,CAACQ,MAAzC,EAAiD;AAC/CC,uBAAK,GAAGC,CAAR;AACD;AACF;;AACD,kBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,qBAAKzB,WAAL,CAAiByB,KAAjB,IAA0BT,MAA1B;AACD,eAFD,MAEO;AACL,qBAAKhB,WAAL,CAAiB2B,IAAjB,CAAsBX,MAAtB;AACD;AACF;AACF,WA7EwB,CA+EzB;;AA/EyB;AAAA;AAAA,6CAgFNA,MAhFM,EAgFE;AACzB,gBAAI,CAAC,KAAKG,QAAV,EAAoB;AAClB,mBAAKA,QAAL,GAAgB,CAACH,MAAD,CAAhB;AACD,aAFD,MAEO;AACL,kBAAIS,KAAK,GAAG,CAAC,CAAb;;AACA,mBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKP,QAAL,CAAcT,MAAlC,EAA0CgB,CAAC,EAA3C,EAA+C;AAC7C,oBAAI,KAAKP,QAAL,CAAcO,CAAd,EAAiBF,MAAjB,IAA2BR,MAAM,CAACQ,MAAtC,EAA8C;AAC5CC,uBAAK,GAAGC,CAAR;AACD;AACF;;AACD,kBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,qBAAKN,QAAL,CAAcM,KAAd,IAAuBT,MAAvB;AACD,eAFD,MAEO;AACL,qBAAKG,QAAL,CAAcQ,IAAd,CAAmBX,MAAnB;AACD;AACF;AACF,WAhGwB,CAmGzB;;AAnGyB;AAAA;AAAA,mCAoGhBY,OApGgB,EAoGP;AAChB,gBAAI,KAAK5B,WAAT,EAAsB;AACpB,mBAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1B,WAAL,CAAiBU,MAArC,EAA6CgB,CAAC,EAA9C,EAAkD;AAChD,oBAAI,KAAK1B,WAAL,CAAiB0B,CAAjB,EAAoBF,MAApB,IAA8BI,OAAO,CAACJ,MAA1C,EAAkD;AAChD,yBAAO,IAAP;AACD;AACF;AACF;;AACD,mBAAO,KAAP;AACD,WA7GwB,CA+GzB;;AA/GyB;AAAA;AAAA,qCAgHdI,OAhHc,EAgHL;AAClB,iBAAK5B,WAAL,CAAiB2B,IAAjB,CAAsBC,OAAtB;AACA,iBAAK3B,aAAL,CAAmB0B,IAAnB,CAAwBC,OAAxB;AACD,WAnHwB,CAqHzB;;AArHyB;AAAA;AAAA,0CAsHTA,OAtHS,EAsHA;AACvB,gBAAIH,KAAK,GAAG,CAAC,CAAb;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK1B,WAAL,CAAiBU,MAArC,EAA6CgB,CAAC,EAA9C,EAAkD;AAChD,kBAAI,KAAK1B,WAAL,CAAiB0B,CAAjB,EAAoBF,MAApB,IAA8BI,OAAO,CAACJ,MAA1C,EAAkD;AAChDC,qBAAK,GAAGC,CAAR;AACD;AACF;;AACD,gBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,mBAAKzB,WAAL,CAAiB6B,MAAjB,CAAwBJ,KAAxB,EAA+B,CAA/B;AACD,aATsB,CAWvB;AACA;;;AACA,gBAAIA,KAAK,GAAG,CAAC,CAAb;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKzB,aAAL,CAAmBS,MAAvC,EAA+CgB,CAAC,EAAhD,EAAoD;AAClD,kBAAI,KAAKzB,aAAL,CAAmByB,CAAnB,EAAsBF,MAAtB,IAAgCI,OAAO,CAACJ,MAA5C,EAAoD;AAClDC,qBAAK,GAAGC,CAAR;AACD;AACF;;AACD,gBAAID,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,mBAAKxB,aAAL,CAAmB4B,MAAnB,CAA0BJ,KAA1B,EAAiC,CAAjC;AACD;AACF,WA5IwB,CA8IzB;;AA9IyB;AAAA;AAAA,mCA+IhB;AAAA;;AACP;AACA,iBAAK5B,OAAL,CAAaiC,IAAb;AACA,iBAAK7B,aAAL,CAAmBY,OAAnB,CAA2B,UAACU,IAAD,EAAU;AACnC;AACA,oBAAI,CAACX,SAAL,CAAeN,OAAf,CAAuBqB,IAAvB,CAA4BJ,IAAI,CAACC,MAAjC,EAFmC,CAGnC;;;AACA,oBAAI,CAACZ,SAAL,CAAemB,QAAf,CAAwBJ,IAAxB,CAA6B;AAC3BK,oBAAI,EAAE,IAAIC,IAAJ,GAAWC,QAAX,EADqB;AAE3BV,sBAAM,EAAE,gDAAgBH,WAAhB,CAA4BC,GAFT;AAG3Ba,oBAAI,EAAE,QAHqB;AAI3BC,uBAAO,EAAE,MAAI,CAACb,IAAL,CAAUc,QAAV,GAAqB,YAArB,GAAoC,MAAI,CAACC,QAAL,EAJlB;AAK3BC,oBAAI,EAAE;AALqB,eAA7B;AAOD,aAXD,EAHO,CAeP;;AACA,iBAAK3C,WAAL,CAAiBe,MAAjB,CAAwB,KAAKT,EAA7B,EAAiCsC,MAAjC,CAAwC;AACtClC,qBAAO,EAAE,KAAKM,SAAL,CAAeN,OADc;AAEtCyB,sBAAQ,EAAE,KAAKnB,SAAL,CAAemB;AAFa,aAAxC,EAGGU,IAHH,CAGQ,YAAM;AACZ;AACA,oBAAI,CAAC5C,OAAL,CAAa6C,IAAb,GAFY,CAGZ;;;AACA,oBAAI,CAAC3C,OAAL,CAAa4C,GAAb;AACD,aARD;AASD,WAxKwB,CA2KzB;;AA3KyB;AAAA;AAAA,qCA4Kd;AACT,gBAAIC,KAAK,GAAG,EAAZ;AACA,iBAAK3C,aAAL,CAAmBY,OAAnB,CAA2B,UAACgC,QAAD,EAAc;AACvCD,mBAAK,IAAIC,QAAQ,CAACR,QAAT,GAAoB,IAA7B;AACD,aAFD;AAGA,mBAAOO,KAAK,CAACE,SAAN,CAAgB,CAAhB,EAAmBF,KAAK,CAAClC,MAAN,GAAe,CAAlC,CAAP;AACD;AAlLwB;;AAAA;AAAA,S;;;;gBAVlB;;gBADA;;gBADA;;gBAIA;;gBALA;;;;AAaIhB,oBAAc,6DAL1B,gEAAU;AACTqD,gBAAQ,EAAE,gBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,4GAFS;;;;AAAA,OAAV,CAK0B,GAAdtD,cAAc,CAAd","file":"pages-addmembers-addmembers-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <div style=\\\"padding-left: 5px;\\\">\\n      <span style=\\\"font-size: 17px;\\n    font-weight: 600;\\n    text-overflow: ellipsis;\\n    letter-spacing: 0.3px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    display: block;\\\">Edit recipients</span>\\n      <ion-label class=\\\"ion-text-center\\\">{{members + membersUpdate.length}} of 256 selected</ion-label>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div style=\\\"padding-top: 10px; padding-bottom: 20px;\\\">\\n    <div class=\\\"groupAdded\\\">\\n      <div class=\\\"thumnails\\\" *ngIf=\\\"memberslist\\\">\\n        <div class=\\\"list-thumbnail\\\">\\n          <div class=\\\"img-thumb\\\" *ngFor=\\\"let member of memberslist\\\" (click)=\\\"removeFromGroup(member)\\\">\\n            <ion-avatar>\\n              <img [src]=\\\"member.img\\\" />\\n            </ion-avatar>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ion-list *ngFor=\\\"let account of accounts\\\">\\n    <div *ngIf=\\\"account.userId != userId \\\">\\n      <ion-item style=\\\"background-color:transparent !important; padding-left:0 !important; margin-left:0 !important;\\\"\\n        *ngIf=\\\"!isMember(account)\\\" (click)=\\\"addToGroup(account); $event.stopPropagation();\\\">\\n        <div class=\\\"profileimage\\\">\\n          <img src=\\\"{{account.img}}\\\" alt=\\\"\\\">\\n        </div>\\n        <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n          <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n            {{account.nikeName}}\\n          </span>\\n          <span style=\\\"display: flex;margin-top: 6px;\\\">\\n            <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n              {{account.description}}\\n            </span>\\n          </span>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item style=\\\"background-color:transparent !important; padding-left:0 !important; margin-left:0 !important;\\\"\\n        *ngIf=\\\"isMember(account)\\\" (click)=\\\"removeFromGroup(account); $event.stopPropagation();\\\">\\n        <div class=\\\"profileimage\\\">\\n          <img src=\\\"{{account.img}}\\\" alt=\\\"\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"checkmark-circle\\\" color=\\\"primary\\\"\\n            style=\\\"margin-bottom:0 !important;margin-left:21px !important;margin-top:13px !important; position: absolute; font-size: x-large;\\\">\\n          </ion-icon>\\n        </div>\\n\\n        <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n          <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n            {{account.nikeName}}\\n          </span>\\n          <span style=\\\"display: flex;margin-top: 6px;\\\">\\n            <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n              {{account.description}}\\n            </span>\\n          </span>\\n        </ion-label>\\n      </ion-item>\\n    </div>\\n  </ion-list>\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ng-container>\\n      <ion-fab-button (click)=\\\"update()\\\">\\n        <ion-icon expand=\\\"icon-only\\\" name=\\\"checkmark\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ng-container>\\n  </ion-fab>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddmembersPage } from './addmembers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddmembersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddmembersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddmembersPageRoutingModule } from './addmembers-routing.module';\n\nimport { AddmembersPage } from './addmembers.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddmembersPageRoutingModule\n  ],\n  declarations: [AddmembersPage]\n})\nexport class AddmembersPageModule {}\n","export default \".thumnails {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n}\\n.thumnails .list-thumbnail {\\n  height: 100%;\\n  white-space: nowrap;\\n}\\n.thumnails .list-thumbnail .img-thumb {\\n  display: inline-block;\\n  border-radius: 4px;\\n  width: 50px;\\n  margin: 0 15px 0 0;\\n  line-height: 60px;\\n}\\n::-webkit-scrollbar {\\n  display: none;\\n}\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n.usernameView {\\n  text-align: center;\\n  font-size: small;\\n  font-weight: bolder;\\n}\\ndiv.profileimage {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\ndiv.profileimage img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\ndiv.headers {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\ndiv.headers img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\n.backgrondColor {\\n  padding-top: 10px;\\n  background: #dbdada;\\n  height: 80vh;\\n}\\n.img-wrapper {\\n  min-height: 100px;\\n  width: 100%;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  border-radius: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRkbWVtYmVycy9hZGRtZW1iZXJzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0Esa0JBQUE7QUFDSjtBQUFJO0VBQ0ksWUFBQTtFQUNBLG1CQUFBO0FBRVI7QUFEUTtFQUNJLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQUdaO0FBQ0E7RUFDSSxhQUFBO0FBRUo7QUFBQTtFQUNJLHlCQUFBO0FBR0o7QUFEQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUlKO0FBRkE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FBS0o7QUFKSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFNUjtBQUZBO0VBQ0ksWUFBQTtFQUNBLGFBQUE7RUFDQSxxQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtBQUtKO0FBSkk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBTVI7QUFGQTtFQUNJLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FBS0o7QUFGQTtFQUNJLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0VBQ0EsNEJBQUE7RUFDQSxtQkFBQTtBQUtKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkbWVtYmVycy9hZGRtZW1iZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aHVtbmFpbHMge1xyXG4gICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xyXG4gICAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gICAgLmxpc3QtdGh1bWJuYWlsIHtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgICAgICAuaW1nLXRodW1iIHtcclxuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDAgMTVweCAwIDA7XHJcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcclxufVxyXG4udXNlcm5hbWVWaWV3IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogc21hbGw7XHJcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xyXG59XHJcbmRpdi5wcm9maWxlaW1hZ2Uge1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICB3aWR0aDogNThweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcblxyXG5kaXYuaGVhZGVycyB7XHJcbiAgICBwYWRkaW5nOiAzcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1mbG93OiByb3cgbm93cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIGltZyB7XHJcbiAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgIHdpZHRoOiA1OHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5iYWNrZ3JvbmRDb2xvciB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgIGJhY2tncm91bmQ6ICNkYmRhZGE7XHJcbiAgICBoZWlnaHQ6IDgwdmg7XHJcbn1cclxuXHJcbi5pbWctd3JhcHBlciB7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG59XHJcbiJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { NavController } from '@ionic/angular';\nimport { LoadingService } from './../../services/loading.service';\nimport { DataService } from './../../services/data.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-addmembers',\n  templateUrl: './addmembers.page.html',\n  styleUrls: ['./addmembers.page.scss'],\n})\nexport class AddmembersPage implements OnInit {\n\n  ID\n  members;\n  user: any;\n  broadcast;\n  public toAdd: any;\n\n  memberslist = []\n  membersUpdate = []\n\n  accounts: any;\n  userId: any;\n\n\n\n  constructor(\n    private actRoute: ActivatedRoute,\n    public dataService: DataService,\n    public loading: LoadingService,\n    public angularDb: AngularFireDatabase,\n    private navCtrl: NavController\n  ) {\n    this.ID = this.actRoute.snapshot.paramMap.get('Id');\n    // console.log(\"broadcastId\", this.ID);\n\n  }\n\n  ngOnInit() {\n    this.members\n    this.toAdd = [];\n    //get the member length\n    this.dataService.members(this.ID).valueChanges().subscribe((length) => {\n      this.members = length.length;\n    });\n\n    // list image base image type\n    this.dataService.groups(this.ID).valueChanges().subscribe((broadcast) => {\n      this.broadcast = broadcast;\n      if (broadcast.members) {\n        broadcast.members.forEach((memberId) => {\n          this.dataService.getUser(memberId).valueChanges().subscribe((member) => {\n            // console.log('members', member)\n            this.addOrUpdateMember(member)\n          });\n        });\n      }\n    });\n    //Get User's to add\n    this.dataService.getUsers().valueChanges().subscribe((accounts) => {\n      this.accounts = accounts;\n      // this.addOrUpdateAccount(accounts)\n    });\n    //let get the user details\n    this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((user) => {\n      this.user = user;\n      this.userId = user.userId;\n    })\n  }\n\n  // Add or update member information for real-time sync.\n  addOrUpdateMember(member) {\n    if (!this.memberslist) {\n      this.memberslist = [member];\n    } else {\n      var index = -1;\n      for (var i = 0; i < this.memberslist.length; i++) {\n        if (this.memberslist[i].userId == member.userId) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.memberslist[index] = member;\n      } else {\n        this.memberslist.push(member);\n      }\n    }\n  }\n\n  // Add or update member information for real-time sync.\n  addOrUpdateAccount(member) {\n    if (!this.accounts) {\n      this.accounts = [member];\n    } else {\n      var index = -1;\n      for (var i = 0; i < this.accounts.length; i++) {\n        if (this.accounts[i].userId == member.userId) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.accounts[index] = member;\n      } else {\n        this.accounts.push(member);\n      }\n    }\n  }\n\n\n  // Check if user is a member of the group or not.\n  isMember(account) {\n    if (this.memberslist) {\n      for (var i = 0; i < this.memberslist.length; i++) {\n        if (this.memberslist[i].userId == account.userId) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  //Add friend to member of groups\n  addToGroup(account) {\n    this.memberslist.push(account)\n    this.membersUpdate.push(account);\n  }\n\n  // Remove friend from members of group.\n  removeFromGroup(account) {\n    var index = -1;\n    for (var i = 0; i < this.memberslist.length; i++) {\n      if (this.memberslist[i].userId == account.userId) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.memberslist.splice(index, 1);\n    }\n\n    // Remove friend from membersUpdate of group.\n    //second step;\n    var index = -1;\n    for (var i = 0; i < this.membersUpdate.length; i++) {\n      if (this.membersUpdate[i].userId == account.userId) {\n        index = i;\n      }\n    }\n    if (index > -1) {\n      this.membersUpdate.splice(index, 1);\n    }\n  }\n\n  // update the member added to the platform\n  update() {\n    //loading show\n    this.loading.show()\n    this.membersUpdate.forEach((user) => {\n      //push the member to the platform\n      this.broadcast.members.push(user.userId);\n      // system message notify to the user\n      this.broadcast.messages.push({\n        date: new Date().toString(),\n        userId: firebase.auth().currentUser.uid,\n        type: 'system',\n        message: this.user.nikeName + 'has added ' + this.getNames(),\n        icon: 'contacts'\n      });\n    })\n    // Update group data on the database.\n    this.dataService.groups(this.ID).update({\n      members: this.broadcast.members,\n      messages: this.broadcast.messages\n    }).then(() => {\n      //loading hide \n      this.loading.hide();\n      // Back.\n      this.navCtrl.pop()\n    });\n  }\n\n\n  // Get names of the members to be added to the group.\n  getNames() {\n    var names = '';\n    this.membersUpdate.forEach((userData) => {\n      names += userData.nikeName + ', ';\n    });\n    return names.substring(0, names.length - 2);\n  }\n\n}\n"]}