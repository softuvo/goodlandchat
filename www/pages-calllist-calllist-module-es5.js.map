{"version":3,"sources":["webpack:///src/app/pages/calllist/calllist.page.html","webpack:///src/app/pages/calllist/calllist-routing.module.ts","webpack:///src/app/pages/calllist/calllist.module.ts","webpack:///src/app/pages/calllist/calllist.page.scss","webpack:///src/app/pages/calllist/calllist.page.ts"],"names":["routes","path","component","CalllistPageRoutingModule","imports","forChild","exports","CalllistPageModule","declarations","CalllistPage","loading","dataService","callNumber","toast","router","afDB","currentUserId","currentUser","uid","searchUser","getUsers","valueChanges","subscribe","accounts","getCurrentUser","account","excludedIds","indexOf","userId","push","item","phoneNumber","then","list","date","Date","toString","type","icon","call","err","something","create","message","duration","present","navigate","img","nikeName","selector","template"],"mappings":"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","file":"pages-calllist-calllist-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Make call</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngFor=\\\"let item of accounts\\\">\\n    <ion-item *ngIf=\\\"item.userId != currentUserId\\\">\\n      <div class=\\\"profileimage\\\">\\n        <img src=\\\"{{item.img}}\\\" />\\n      </div>\\n      <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n        <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n          {{item.nikeName}}\\n        </span>\\n        <span style=\\\"display: flex;margin-top: 6px;\\\">\\n          <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n            {{item.description}}\\n          </span>\\n        </span>\\n      </ion-label>\\n      <ion-icon color=\\\"secondary\\\" name=\\\"call\\\" slot=\\\"end\\\" (click)=\\\"call(item)\\\"></ion-icon>\\n      <ion-icon color=\\\"secondary\\\" name=\\\"videocam\\\" slot=\\\"end\\\" (click)=\\\"videoCall(item)\\\"></ion-icon>\\n    </ion-item>\\n  </div>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CalllistPage } from './calllist.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CalllistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CalllistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CalllistPageRoutingModule } from './calllist-routing.module';\n\nimport { CalllistPage } from './calllist.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CalllistPageRoutingModule\n  ],\n  declarations: [CalllistPage]\n})\nexport class CalllistPageModule {}\n","export default \"ion-icon {\\n  padding-right: 15px;\\n}\\n\\ndiv.profileimage {\\n  padding: 3px;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 100%;\\n}\\n\\ndiv.profileimage img {\\n  height: 50px;\\n  width: 58px;\\n  border-radius: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2FsbGxpc3QvY2FsbGxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFBSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7QUFFUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhbGxsaXN0L2NhbGxsaXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pY29uIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbn1cclxuXHJcbmRpdi5wcm9maWxlaW1hZ2Uge1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICB3aWR0aDogNThweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { Component, OnInit } from '@angular/core';\nimport { LoadingService } from 'src/app/services/loading.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-calllist',\n  templateUrl: './calllist.page.html',\n  styleUrls: ['./calllist.page.scss'],\n})\nexport class CalllistPage implements OnInit {\n\n  excludedIds: any;\n  searchUser: any;\n  accounts: any;\n  account: any;\n  currentUserId: any;\n\n  constructor(\n    public loading: LoadingService,\n    public dataService: DataService,\n    // private network: Network,\n    private callNumber: CallNumber,\n    private toast: ToastController,\n    private router: Router,\n    private afDB: AngularFireDatabase,\n\n  ) {\n    // pass the currernt userId to the variable \n    this.currentUserId = firebase.auth().currentUser.uid;\n  }\n\n  ngOnInit() {\n    //Initialized\n    this.searchUser = \"\";\n    this.dataService.getUsers().valueChanges().subscribe((accounts) => {\n      this.accounts = accounts;\n\n      // get current user info\n      this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((account) => {\n        //add own userId as excludedIds.\n        this.excludedIds = [];\n        this.account = account;\n        if (this.excludedIds.indexOf(account.userId) == -1) {\n          this.excludedIds.push(account.userId);\n        }\n      })\n    })\n  }\n\n  // make call, the item handle the object of each data touch\n  call(item) {\n    this.callNumber.callNumber(`${item.phoneNumber}`, true).then(() => {\n      // fetch the data to current database\n      this.afDB.list('/accounts/' + firebase.auth().currentUser.uid + '/call/').push({\n        date: new Date().toString(),\n        userId: item.userId,\n        type: 'calling',\n        icon: 'call',\n        call: 'call'\n      }).then(() => {\n        this.afDB.list('/accounts/' + item.userId + '/call/').push({\n          date: new Date().toString(),\n          userId: firebase.auth().currentUser.uid,\n          type: 'calling',\n          icon: 'call',\n          call: 'misscall'\n        })\n      })\n      // if something goes wrong handle toast notify\n    }).catch(err => this.something());\n  }\n\n  // toast notification\n  async something() {\n    const toast = await this.toast.create({\n      message: 'Something going wrong.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  // make the vieo call, then router take part\n  videoCall(item) {\n    this.router.navigate([\"/calling\", { 'image': item.img, 'name': item.nikeName, 'userId': item.userId }])\n  }\n\n}\n"]}