{"version":3,"sources":["webpack:///src/app/pages/broadcast/broadcast.page.html","webpack:///src/app/pages/broadcast/broadcast-routing.module.ts","webpack:///src/app/pages/broadcast/broadcast.module.ts","webpack:///src/app/pages/broadcast/broadcast.page.scss","webpack:///src/app/pages/broadcast/broadcast.page.ts"],"names":["routes","path","component","BroadcastPageRoutingModule","imports","forChild","exports","BroadcastPageModule","declarations","BroadcastPage","actRoute","dataServices","toast","camera","nativeAudio","afstorage","popoverController","afDB","router","media","file","streamingMedia","actionSheet","loading","membersLength","playAudio","isLoading","messagesToShow","recording","userId","currentUser","uid","preloadSimple","broadcastId","snapshot","paramMap","get","broadcastPhotoOption","quality","targetHeight","targetWidth","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","correctOrientation","allowEdit","groups","valueChanges","subscribe","broadcast","admin","index","isAdmin","members","image","img","getGroupMessage","messages","forEach","message","tempMessage","tempData","getUser","user","name","username","avatar","console","log","push","ev","create","event","cssClass","translucent","componentProps","popover","present","setTimeout","scrollToBottom","IonContent","navigate","length","text","possible","i","charAt","Math","floor","random","dataURI","binary","atob","split","mimeString","array","charCodeAt","Blob","Uint8Array","type","sendNewMessage","then","promise","Promise","resolve","reject","date","Date","toString","read","conversation","me","view","convasation","ref","child","sucess","keys","key","update","database","snap","orderByChild","equalTo","once","res","val","store","Object","remove","err","play","url","header","buttons","icon","handler","uploadPhotoMessage","PictureSourceType","CAMERA","sendNewPhoto","PHOTOLIBRARY","role","alert","sourceType","getPicture","imageData","imgBlob","imgURItoBlob","metadata","showPro","generateFilename","task","put","snapshotChanges","pipe","getDownloadURL","hidePro","audioFile","externalDataDirectory","startRecord","stopRecord","uploadRec","sendNewAudio","contentType","fileName","readAsDataURL","generateFilenameAudio","putString","StringFormat","audioUrl","removeFile","options","successCallback","errorCallback","e","presentToast","initFullscreen","duration","deleteMessage","show","snapKey","hide","selector","template"],"mappings":"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","file":"pages-broadcast-broadcast-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img class=\\\"header\\\" src=\\\"{{image}}\\\" (click)=\\\"groupInfo()\\\">\\n    </ion-thumbnail>\\n    <span (click)=\\\"groupInfo()\\\" style=\\\"font-size: 17px;\\n    font-weight: 600;\\n    text-overflow: ellipsis;\\n    letter-spacing: 0.3px;\\n    padding-left: 10px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    display: block;\\\">\\n      {{membersLength.length}} recipients\\n    </span>\\n    <span (click)=\\\"groupInfo()\\\" style=\\\"padding-left: 10px;\\\">tap here for broadcast info</span>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"more($event)\\\">\\n        <ion-icon name=\\\"ellipsis-vertical\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #IonContent class=\\\"ion-padding\\\" fullscreen=\\\"true\\\" class=\\\"contentBg\\\" id=\\\"chat-parent\\\"\\n  overflow-scroll=\\\"true\\\">\\n  <div class=\\\"style\\\" *ngIf=\\\"isLoading\\\">\\n    <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\n  </div>\\n\\n  <div>\\n    <div id=\\\"chat-container\\\">\\n      <div class=\\\"message-wrap\\\">\\n        <div *ngFor=\\\"let message of messagesToShow; let i = index; let first = first; let last = last\\\" class=\\\"message\\\">\\n          <ion-col col-12 class=\\\"system\\\" *ngIf=\\\"message.type == 'system'\\\">\\n            <p style=\\\"text-align: center;\\\">\\n              <ion-icon color=\\\"secondary\\\" name=\\\"{{message.icon}}\\\"></ion-icon>\\n              {{message.message}} <br />\\n              <span>{{message.date |  moment:'h:mm A'}}</span>\\n            </p>\\n          </ion-col>\\n          <div class=\\\"message-right\\\" *ngIf=\\\"message.userId === userId\\\">\\n            <div *ngIf=\\\"message.type == 'image'\\\" (click)=\\\"optionDelete(message.key)\\\"\\n              (click)=\\\"enlargeImage(message.message)\\\">\\n              <div class=\\\"msg-detail\\\">\\n                <div class=\\\"msg-info\\\">\\n                </div>\\n                <div class=\\\"msg-content\\\">\\n                  <img class=\\\"url\\\" src=\\\"{{message.message}}\\\">\\n                  <span class=\\\"line-time\\\">\\n                    {{message.date |  moment:'h:mm A' }}\\n                    <ion-icon slot=\\\"icon=only\\\" name=\\\"checkmark-outline\\\"></ion-icon>\\n                  </span>\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"message.type == 'text'\\\" (click)=\\\"optionDelete(message.key)\\\">\\n              <div class=\\\"msg-detail\\\">\\n                <div class=\\\"msg-info\\\">\\n                </div>\\n                <div class=\\\"msg-content\\\">\\n                  <p class=\\\"line-breaker \\\">{{message.message}}</p>\\n                  <span class=\\\"line-time\\\">\\n                    {{message.date |  moment:'h:mm A' }}\\n                    <ion-icon slot=\\\"icon=only\\\" name=\\\"checkmark-outline\\\"></ion-icon>\\n                  </span>\\n                </div>\\n              </div>\\n            </div>\\n            <div *ngIf=\\\"message.type == 'audio'\\\">\\n              <div class=\\\"msg-detail\\\">\\n                <div class=\\\"msg-info\\\">\\n                </div>\\n                <div class=\\\"msg-content\\\">\\n                  <p class=\\\"line-breaker \\\">\\n                    <span style=\\\"display: flex;\\\">\\n                      <div (click)=\\\"play(message.audio)\\\">\\n                        <ion-icon color=\\\"primary\\\" slot=\\\"icon-only\\\" class=\\\"play\\\" name=\\\"play\\\"></ion-icon>\\n                      </div>\\n                      <div style=\\\"margin-left: 30px;\\\" (click)=\\\"optionDelete(message.key)\\\">\\n                        <ion-icon color=\\\"primary\\\" slot=\\\"icon-only\\\" name=\\\"ellipsis-vertical\\\"></ion-icon>\\n                      </div>\\n                    </span>\\n                    <span class=\\\"line-time\\\">\\n                      {{message.date |  moment:'h:mm A' }}\\n                      <ion-icon slot=\\\"icon=only\\\" name=\\\"checkmark-outline\\\"></ion-icon>\\n                    </span>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ng-container *ngIf=\\\"message;  else running \\\">\\n      <ion-fab-button color=\\\"secondary\\\" (click)=\\\"sendMessage()\\\" [disabled]=\\\"!message\\\">\\n        <ion-icon name=\\\"send\\\" expand=\\\"icon-only\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ng-container>\\n\\n    <ng-template #running>\\n      <ion-fab-button color=\\\"secondary\\\" (click)=\\\"record()\\\" *ngIf=\\\"!recording\\\">\\n        <ion-icon name=\\\"mic\\\" expand=\\\"icon-only\\\"></ion-icon>\\n      </ion-fab-button>\\n      <ion-fab-button color=\\\"secondary\\\" (click)=\\\"stopRec()\\\" *ngIf=\\\"recording\\\">\\n        <ion-icon name=\\\"pause-circle\\\" expand=\\\"icon-only\\\"></ion-icon>\\n      </ion-fab-button>\\n    </ng-template>\\n  </ion-fab>\\n</ion-content>\\n<ion-footer>\\n  <ion-row class=\\\"ion-no-padding; align-items-center\\\">\\n    <ion-col size=\\\"2\\\">\\n      <ion-button fill=\\\"clear\\\" class=\\\"msg-btn\\\" (click)=\\\"sendPhoto()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"images-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"10\\\">\\n      <textarea class=\\\"message-input\\\" placeholder=\\\"Type your message\\\" [(ngModel)]=\\\"message\\\"></textarea>\\n    </ion-col>\\n  </ion-row>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BroadcastPage } from './broadcast.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BroadcastPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BroadcastPageRoutingModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BroadcastPageRoutingModule } from './broadcast-routing.module';\n\nimport { BroadcastPage } from './broadcast.page';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    BroadcastPageRoutingModule,\n  ],\n  // schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  declarations: [BroadcastPage]\n})\nexport class BroadcastPageModule {}\n","export default \"ion-title {\\n  font-size: medium;\\n  font-family: Georgia, \\\"Times New Roman\\\", Times, serif;\\n}\\n\\nimg.header {\\n  border-radius: 50%;\\n}\\n\\n.input-cover {\\n  height: auto !important;\\n}\\n\\n.item-md.item-block .item-inner {\\n  margin-left: -32px;\\n  padding-right: 0 !important;\\n}\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em;\\n}\\n\\n.back-button-md {\\n  margin-left: -10px !important;\\n}\\n\\n.message-input {\\n  width: 100%;\\n  border-radius: 10px;\\n  background: #ffffff;\\n  resize: none;\\n  color: #000000;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n\\n.chatInput {\\n  overflow: hidden;\\n  background: white;\\n  border-radius: 21px;\\n  position: fixed;\\n  padding-left: 45px;\\n  padding-top: 10px;\\n  margin-left: 10px;\\n  bottom: 0;\\n  margin-bottom: 10px;\\n  width: calc(100% - 70px);\\n}\\n\\n.chatSmiley {\\n  position: fixed;\\n  bottom: 0;\\n  margin-left: 23px;\\n  z-index: 10;\\n  color: #000;\\n  margin-bottom: 17px;\\n  font-size: 30px;\\n}\\n\\n.firstInputRightButton {\\n  margin-right: 115px !important;\\n}\\n\\n.InputRightButtons {\\n  position: fixed;\\n  bottom: 0;\\n  right: 0;\\n  margin-right: 80px;\\n  z-index: 10;\\n  color: #000;\\n  margin-bottom: 17px;\\n  font-size: 30px;\\n}\\n\\n.fab {\\n  width: 48px !important;\\n  height: 48px !important;\\n}\\n\\n.back-button-md {\\n  margin-left: 0 !important;\\n  padding-left: 0 !important;\\n  margin-right: 0 !important;\\n}\\n\\nion-fab {\\n  bottom: -30px !important;\\n}\\n\\n.statusOnline {\\n  color: #92ff92;\\n}\\n\\n.page {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.marvel-device .screen {\\n  text-align: left;\\n}\\n\\n.screen-container {\\n  height: 100%;\\n}\\n\\n/* Status Bar */\\n\\n.status-bar {\\n  height: 25px;\\n  background: #004e45;\\n  color: #fff;\\n  font-size: 14px;\\n  padding: 0 8px;\\n}\\n\\n.status-bar:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n\\n.status-bar div {\\n  float: right;\\n  position: relative;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  margin: 0 0 0 8px;\\n  font-weight: 600;\\n}\\n\\n/* Chat */\\n\\n.chat {\\n  height: calc(100% - 69px);\\n}\\n\\n.chat-container {\\n  height: 100%;\\n}\\n\\n/* User Bar */\\n\\n.user-bar {\\n  height: 55px;\\n  background: #005e54;\\n  color: #fff;\\n  padding: 0 8px;\\n  font-size: 24px;\\n  position: relative;\\n  z-index: 1;\\n}\\n\\n.user-bar:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n\\n.user-bar div {\\n  float: left;\\n  transform: translateY(-50%);\\n  position: relative;\\n  top: 50%;\\n}\\n\\n.user-bar .actions {\\n  float: right;\\n  margin: 0 0 0 20px;\\n}\\n\\n.user-bar .actions.more {\\n  margin: 0 12px 0 32px;\\n}\\n\\n.user-bar .actions.attachment {\\n  margin: 0 0 0 30px;\\n}\\n\\n.user-bar .actions.attachment i {\\n  display: block;\\n  transform: rotate(-45deg);\\n}\\n\\n.user-bar .avatar {\\n  margin: 0 0 0 5px;\\n  width: 36px;\\n  height: 36px;\\n}\\n\\n.user-bar .avatar img {\\n  border-radius: 50%;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.1);\\n  display: block;\\n  width: 100%;\\n}\\n\\n.user-bar .name {\\n  font-size: 17px;\\n  font-weight: 600;\\n  text-overflow: ellipsis;\\n  letter-spacing: 0.3px;\\n  margin: 0 0 0 8px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  width: 110px;\\n}\\n\\n.user-bar .status {\\n  display: block;\\n  font-size: 13px;\\n  font-weight: 400;\\n  letter-spacing: 0;\\n}\\n\\nion-fab-button {\\n  width: 48px !important;\\n  height: 48px !important;\\n}\\n\\n.style {\\n  text-align: center;\\n  margin: 0px auto;\\n  color: #18191b;\\n  padding-top: 22px;\\n}\\n\\n/* Conversation */\\n\\n.contentBg {\\n  padding-bottom: 0 !important;\\n  --padding-bootm: 0 !important;\\n  scroll-behavior: smooth;\\n  height: calc(100% - 12px);\\n  position: relative;\\n  --background: #efe7dd url(\\\"/../assets/images/light.png\\\") repeat;\\n}\\n\\n#chat-parent {\\n  scroll-behavior: smooth;\\n}\\n\\n.message-wrap .message {\\n  position: relative;\\n}\\n\\n.message-wrap .message .user-img {\\n  position: absolute;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  border-radius: 45px;\\n  width: 35px;\\n  height: 35px;\\n  border: 2px solid #fff;\\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.36);\\n}\\n\\n.message-wrap .message .msg-detail {\\n  width: 95%;\\n  display: inline-block;\\n  position: relative;\\n}\\n\\n.message-wrap .message .msg-detail p {\\n  margin: 0;\\n  font-size: 14px;\\n}\\n\\n.message-wrap .message .msg-detail .msg-info p {\\n  font-size: 0.8em;\\n  color: #8899;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n\\n.message-wrap .message .msg-detail .msg-content {\\n  position: relative;\\n  border-radius: 6px;\\n  padding: 2%;\\n  width: auto;\\n  max-width: 80%;\\n  margin-top: 7px;\\n}\\n\\n.message-wrap .message .msg-detail .msg-content .line-breaker {\\n  white-space: pre-line;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  font-family: auto;\\n}\\n\\n.message-wrap .message .msg-detail .msg-content .line-time {\\n  white-space: pre-line;\\n  padding-left: 41px;\\n  font-size: 12px;\\n  float: right;\\n  margin: 2px;\\n  font-family: \\\"Times New Roman\\\", Times, serif;\\n  color: #c3c0c0;\\n}\\n\\n.message-wrap .message .msg-detail .msg-content .line-time-left {\\n  white-space: pre-line;\\n  padding-left: 29px;\\n  text-align: end;\\n  float: left;\\n  font-size: 12px;\\n  margin: 2px;\\n  font-family: \\\"Times New Roman\\\", Times, serif;\\n  color: #9e9e9e;\\n}\\n\\n.message-wrap .message .msg-detail .msg-content .line-breaker-left {\\n  white-space: pre-line;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  font-family: auto;\\n}\\n\\nion-icon.play {\\n  font-size: x-large;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYnJvYWRjYXN0L2Jyb2FkY2FzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLHFEQUFBO0FBQ0o7O0FBQ0E7RUFDSSxrQkFBQTtBQUVKOztBQUNBO0VBQ0ksdUJBQUE7QUFFSjs7QUFDQTtFQUNJLGtCQUFBO0VBQ0EsMkJBQUE7QUFFSjs7QUFBQTtFQUNJLHNCQUFBO0VBQ0Esb0JBQUE7QUFHSjs7QUFBQTtFQUNJLDZCQUFBO0FBR0o7O0FBREE7RUFDSSxXQUFBO0VBRUEsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQUdKOztBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUFJSjs7QUFGQTtFQUNJLDhCQUFBO0FBS0o7O0FBSEE7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBTUo7O0FBQUE7RUFDSSxzQkFBQTtFQUNBLHVCQUFBO0FBR0o7O0FBQUE7RUFDSSx5QkFBQTtFQUNBLDBCQUFBO0VBQ0EsMEJBQUE7QUFHSjs7QUFEQTtFQUNJLHdCQUFBO0FBSUo7O0FBRkE7RUFDSSxjQUFBO0FBS0o7O0FBSEE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBTUo7O0FBSEE7RUFDSSxnQkFBQTtBQU1KOztBQUhBO0VBQ0ksWUFBQTtBQU1KOztBQUhBLGVBQUE7O0FBRUE7RUFDSSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFLSjs7QUFGQTtFQUNJLFdBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtBQUtKOztBQUZBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQUtKOztBQUZBLFNBQUE7O0FBRUE7RUFDSSx5QkFBQTtBQUlKOztBQURBO0VBQ0ksWUFBQTtBQUlKOztBQURBLGFBQUE7O0FBRUE7RUFDSSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUFHSjs7QUFBQTtFQUNJLFdBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtBQUdKOztBQUFBO0VBQ0ksV0FBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0FBR0o7O0FBQUE7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QUFHSjs7QUFBQTtFQUNJLHFCQUFBO0FBR0o7O0FBQUE7RUFDSSxrQkFBQTtBQUdKOztBQUFBO0VBQ0ksY0FBQTtFQUNBLHlCQUFBO0FBR0o7O0FBQUE7RUFDSSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBR0o7O0FBQUE7RUFDSSxrQkFBQTtFQUNBLDRDQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUFHSjs7QUFBQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FBR0o7O0FBQUE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFHSjs7QUFBQTtFQUNJLHNCQUFBO0VBQ0EsdUJBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7QUFJSjs7QUFEQSxpQkFBQTs7QUFFQTtFQUVJLDRCQUFBO0VBQ0EsNkJBQUE7RUFDQSx1QkFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSwrREFBQTtBQUVKOztBQUFBO0VBQ0ksdUJBQUE7QUFHSjs7QUFFSTtFQUNJLGtCQUFBO0FBQ1I7O0FBQ1E7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1Q0FBQTtBQUNaOztBQUNRO0VBQ0ksVUFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7QUFDWjs7QUFBWTtFQUNJLFNBQUE7RUFDQSxlQUFBO0FBRWhCOztBQUNnQjtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLDRFQUFBO0FBQ3BCOztBQUdZO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFEaEI7O0FBR2dCO0VBQ0kscUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBRUEsaUJBQUE7QUFGcEI7O0FBSWdCO0VBQ0kscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLDRDQUFBO0VBQ0EsY0FBQTtBQUZwQjs7QUFJZ0I7RUFDSSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLDRDQUFBO0VBQ0EsY0FBQTtBQUZwQjs7QUFJZ0I7RUFDSSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFFQSxpQkFBQTtBQUhwQjs7QUFVQTtFQUNJLGtCQUFBO0FBUEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9icm9hZGNhc3QvYnJvYWRjYXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10aXRsZSB7XHJcbiAgICBmb250LXNpemU6IG1lZGl1bTtcclxuICAgIGZvbnQtZmFtaWx5OiBHZW9yZ2lhLCBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XHJcbn1cclxuaW1nLmhlYWRlciB7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn1cclxuXHJcbi5pbnB1dC1jb3ZlciB7XHJcbiAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcclxufVxyXG5cclxuLml0ZW0tbWQuaXRlbS1ibG9jayAuaXRlbS1pbm5lciB7XHJcbiAgICBtYXJnaW4tbGVmdDogLTMycHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuLm1zZy1idG4ge1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcclxuICAgIC0tcGFkZGluZy1lbmQ6IDAuNWVtO1xyXG4gICAgLy8gY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxufVxyXG4uYmFjay1idXR0b24tbWQge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm1lc3NhZ2UtaW5wdXQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICAvLyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgcmVzaXplOiBub25lO1xyXG4gICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4uY2hhdElucHV0IHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIxcHg7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDQ1cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA3MHB4KTtcclxufVxyXG4uY2hhdFNtaWxleSB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBtYXJnaW4tbGVmdDogMjNweDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxN3B4O1xyXG4gICAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcbi5maXJzdElucHV0UmlnaHRCdXR0b24ge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMTVweCAhaW1wb3J0YW50O1xyXG59XHJcbi5JbnB1dFJpZ2h0QnV0dG9ucyB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIG1hcmdpbi1yaWdodDogODBweDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxN3B4O1xyXG4gICAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcbi8vIC5taWNGYWIge1xyXG4vLyAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4vLyAgICAgcmlnaHQ6IDA7XHJcbi8vIH1cclxuLmZhYiB7XHJcbiAgICB3aWR0aDogNDhweCAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiA0OHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5iYWNrLWJ1dHRvbi1tZCB7XHJcbiAgICBtYXJnaW4tbGVmdDogMCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDtcclxufVxyXG5pb24tZmFiIHtcclxuICAgIGJvdHRvbTogLTMwcHggIWltcG9ydGFudDtcclxufVxyXG4uc3RhdHVzT25saW5lIHtcclxuICAgIGNvbG9yOiAjOTJmZjkyO1xyXG59XHJcbi5wYWdlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLm1hcnZlbC1kZXZpY2UgLnNjcmVlbiB7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59XHJcblxyXG4uc2NyZWVuLWNvbnRhaW5lciB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi8qIFN0YXR1cyBCYXIgKi9cclxuXHJcbi5zdGF0dXMtYmFyIHtcclxuICAgIGhlaWdodDogMjVweDtcclxuICAgIGJhY2tncm91bmQ6ICMwMDRlNDU7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHBhZGRpbmc6IDAgOHB4O1xyXG59XHJcblxyXG4uc3RhdHVzLWJhcjphZnRlciB7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgZGlzcGxheTogdGFibGU7XHJcbiAgICBjbGVhcjogYm90aDtcclxufVxyXG5cclxuLnN0YXR1cy1iYXIgZGl2IHtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgbWFyZ2luOiAwIDAgMCA4cHg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4vKiBDaGF0ICovXHJcblxyXG4uY2hhdCB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDY5cHgpO1xyXG59XHJcblxyXG4uY2hhdC1jb250YWluZXIge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4vKiBVc2VyIEJhciAqL1xyXG5cclxuLnVzZXItYmFyIHtcclxuICAgIGhlaWdodDogNTVweDtcclxuICAgIGJhY2tncm91bmQ6ICMwMDVlNTQ7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDAgOHB4O1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgei1pbmRleDogMTtcclxufVxyXG5cclxuLnVzZXItYmFyOmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBkaXNwbGF5OiB0YWJsZTtcclxuICAgIGNsZWFyOiBib3RoO1xyXG59XHJcblxyXG4udXNlci1iYXIgZGl2IHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOiA1MCU7XHJcbn1cclxuXHJcbi51c2VyLWJhciAuYWN0aW9ucyB7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBtYXJnaW46IDAgMCAwIDIwcHg7XHJcbn1cclxuXHJcbi51c2VyLWJhciAuYWN0aW9ucy5tb3JlIHtcclxuICAgIG1hcmdpbjogMCAxMnB4IDAgMzJweDtcclxufVxyXG5cclxuLnVzZXItYmFyIC5hY3Rpb25zLmF0dGFjaG1lbnQge1xyXG4gICAgbWFyZ2luOiAwIDAgMCAzMHB4O1xyXG59XHJcblxyXG4udXNlci1iYXIgLmFjdGlvbnMuYXR0YWNobWVudCBpIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcclxufVxyXG5cclxuLnVzZXItYmFyIC5hdmF0YXIge1xyXG4gICAgbWFyZ2luOiAwIDAgMCA1cHg7XHJcbiAgICB3aWR0aDogMzZweDtcclxuICAgIGhlaWdodDogMzZweDtcclxufVxyXG5cclxuLnVzZXItYmFyIC5hdmF0YXIgaW1nIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnVzZXItYmFyIC5uYW1lIHtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIGxldHRlci1zcGFjaW5nOiAwLjNweDtcclxuICAgIG1hcmdpbjogMCAwIDAgOHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB3aWR0aDogMTEwcHg7XHJcbn1cclxuXHJcbi51c2VyLWJhciAuc3RhdHVzIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGxldHRlci1zcGFjaW5nOiAwO1xyXG59XHJcblxyXG5pb24tZmFiLWJ1dHRvbiB7XHJcbiAgICB3aWR0aDogNDhweCAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiA0OHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLnN0eWxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbjogMHB4IGF1dG87XHJcbiAgICBjb2xvcjogIzE4MTkxYjtcclxuICAgIHBhZGRpbmctdG9wOiAyMnB4O1xyXG59XHJcblxyXG4vKiBDb252ZXJzYXRpb24gKi9cclxuXHJcbi5jb250ZW50Qmcge1xyXG4gICAgLy8gLS1iYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcclxuICAgIC0tcGFkZGluZy1ib290bTogMCAhaW1wb3J0YW50O1xyXG4gICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDEycHgpO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZWZlN2RkIHVybChcIi8uLi9hc3NldHMvaW1hZ2VzL2xpZ2h0LnBuZ1wiKSByZXBlYXQ7XHJcbn1cclxuI2NoYXQtcGFyZW50IHtcclxuICAgIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xyXG59XHJcbi5tZXNzYWdlLXdyYXAge1xyXG4gICAgLy8gcGFkZGluZzogMCAxMHB4O1xyXG5cclxuICAgIC5tZXNzYWdlIHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgLy8gIHBhZGRpbmc6IDJweCAwO1xyXG4gICAgICAgIC51c2VyLWltZyB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDQ1cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzNXB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZmY7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAycHggcmdiYSgwLCAwLCAwLCAwLjM2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLm1zZy1kZXRhaWwge1xyXG4gICAgICAgICAgICB3aWR0aDogOTUlO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgcCB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLm1zZy1pbmZvIHtcclxuICAgICAgICAgICAgICAgIHAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM4ODk5O1xyXG4gICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5tc2ctY29udGVudCB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAyJTtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA3cHg7XHJcblxyXG4gICAgICAgICAgICAgICAgLmxpbmUtYnJlYWtlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS1saW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb250LXNpemU6IGluaXRpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IGF1dG87XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAubGluZS10aW1lIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA0MXB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2MzYzBjMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC5saW5lLXRpbWUtbGVmdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS1saW5lO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMjlweDtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlRpbWVzIE5ldyBSb21hblwiLCBUaW1lcywgc2VyaWY7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5ZTllOWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAubGluZS1icmVha2VyLWxlZnQge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBwcmUtbGluZTtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9udC1zaXplOiBpbml0aWFsO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGV4dC1hbGlnbjogZW5kO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmlvbi1pY29uLnBsYXkge1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG59XHJcbiJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { LoadingService } from 'src/app/services/loading.service';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { BroadcastComponent } from './../../component/broadcast/broadcast.component';\nimport { DataService } from 'src/app/services/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Component, OnInit, ViewChild } from '@angular/core';\n// import firebase from 'firebase';\nimport * as _ from 'lodash';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { PopoverController, IonContent, ActionSheetController, ToastController } from '@ionic/angular';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { finalize } from 'rxjs/operators';\nimport { MediaObject, Media } from '@ionic-native/media/ngx';\nimport { StreamingMedia, StreamingVideoOptions, StreamingAudioOptions } from '@ionic-native/streaming-media/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { NativeAudio } from '@ionic-native/native-audio/ngx';\nimport * as firebase from 'firebase';\n\n\n\n\n@Component({\n  selector: 'app-broadcast',\n  templateUrl: './broadcast.page.html',\n  styleUrls: ['./broadcast.page.scss'],\n})\nexport class BroadcastPage implements OnInit {\n\n  broadcastId;\n  membersLength = []\n\n  userId;\n  playAudio = false;\n\n  isAdmin: any;\n  members;\n  image;\n  isLoading = true;\n  messagesToShow = [];\n  recording = false;\n  public message: any;\n  private messages: any;\n\n  audioFile: MediaObject;\n\n  private broadcastPhotoOption: CameraOptions;\n  broadcast;\n\n  @ViewChild('IonContent', { static: true }) IonContent: IonContent;\n\n  constructor(\n    private actRoute: ActivatedRoute,\n    public dataServices: DataService,\n    private toast: ToastController,\n    private camera: Camera,\n    private nativeAudio: NativeAudio,\n    private afstorage: AngularFireStorage,\n    private popoverController: PopoverController,\n    public afDB: AngularFireDatabase,\n    private router: Router,\n    private media: Media,\n    private file: File,\n    private streamingMedia: StreamingMedia,\n    private actionSheet: ActionSheetController,\n    public loading: LoadingService\n  ) {\n    // current userId\n    this.userId = firebase.auth().currentUser.uid;\n    // preload the sound wave \n    this.nativeAudio.preloadSimple('send', 'assets/audio/send.wav');\n    //invoke the broadcastId the key\n    this.broadcastId = this.actRoute.snapshot.paramMap.get('key');\n\n    this.broadcastPhotoOption = {\n      quality: 100,\n      targetHeight: 530,\n      targetWidth: 530,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      correctOrientation: true,\n      allowEdit: true\n    }\n  }\n\n  ngOnInit() {\n    //initiallize the data will be loaded\n    this.dataServices.groups(this.broadcastId).valueChanges().subscribe((broadcast) => {\n      this.broadcast = broadcast;\n      if (broadcast.admin) {\n        let index = _.indexOf(broadcast.admin, firebase.auth().currentUser.uid);\n        if (index > - 1) {\n          this.isAdmin = true;\n        }\n      }\n      //for the title\n      this.membersLength = broadcast.members;\n      this.image = broadcast.img;\n      //get the message from the group\n      this.dataServices.getGroupMessage(this.broadcastId).valueChanges().subscribe((messages) => {\n        this.messagesToShow = []\n        this.isLoading = false\n        messages.forEach((message) => {\n          let tempMessage = message;\n          let tempData = <any>{}\n          tempData = tempMessage;\n          this.dataServices.getUser(tempMessage.userId).valueChanges().subscribe((user) => {\n            tempData.name = user.username;\n            tempData.avatar = user.img;\n          });\n          console.log(\"dataChat\", tempData)\n          this.messagesToShow.push(tempData);\n        })\n\n      })\n    });\n  }\n\n  // show the option from the popOver \n  // and then pass the broadcastId the Broadcast component\n  async more(ev: any) {\n    const popover = await this.popoverController.create({\n      component: BroadcastComponent,\n      event: ev,\n      cssClass: 'my-custom-class',\n      translucent: true,\n      componentProps: { broadcastId: this.broadcastId },\n    });\n    await popover.present();\n  }\n\n  // when enter the page automatic scroll to the bottom page\n  ionViewDidEnter() {\n    setTimeout(() => {\n      this.scrollToBottom()\n    }, 500)\n  }\n\n  //scroll pages\n  scroll() {\n    setTimeout(() => {\n      this.scrollToBottom()\n    }, 10)\n  }\n  // Update messagesRead when user lefts this page.\n  // ionViewWillLeave() {\n  //   this.setMessagesRead();\n  // }\n\n  // scrollToBottom\n  scrollToBottom() {\n    this.IonContent.scrollToBottom(100)\n  }\n  //enlarge the image\n  enlargeImage(image) {\n    this.router.navigate(['enlarge-image/', { 'image': image }])\n  }\n  // generate the random name file\n  generateFilename() {\n    var length = 8;\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text + \".jpg\";\n  }\n\n  //splite the quality of image page\n  imgURItoBlob(dataURI) {\n    var binary = atob(dataURI.split(',')[1]);\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n    var array = [];\n    for (var i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new Blob([new Uint8Array(array)], {\n      type: mimeString\n    });\n  }\n\n  // send message and then scroll to the bottom page\n  // pass the message parameter\n  sendMessage() {\n    this.sendNewMessage(this.message).then(() => {\n      setTimeout(() => {\n        this.scrollToBottom()\n      }, 10)\n      this.message = '';\n    })\n  }\n\n  //send message to user\n  sendNewMessage(message) {\n    if (this.userId) {\n      var promise = new Promise((resolve, reject) => {\n        var messages = {\n          date: new Date().toString(),\n          userId: firebase.auth().currentUser.uid,\n          type: 'text',\n          message: message,\n          read: 'unread',\n        };\n        var conversation = {\n          userId: this.userId,\n          me: \"me\",\n          view: 'broadcast',\n          message: message,\n          type: 'text',\n          read: 'unread',\n          date: new Date().toString(),\n        }\n        var convasation = {\n          userId: firebase.auth().currentUser.uid,\n          message: message,\n          me: \"you\",\n          type: 'text',\n          view: 'broadcast',\n          read: 'unread',\n          date: new Date().toString(),\n        }\n        //update group message\n        firebase.database().ref('groups').child(this.broadcastId).child('messages').push(messages).then((sucess) => {\n          var keys = sucess.key;\n          sucess.update({\n            key: keys\n          })\n          this.message = '';\n          setTimeout(() => {\n            this.scrollToBottom()\n          }, 10)\n        })\n        for (let i = 0; i < this.broadcast.members.length; i++) {\n          this.afDB.database.ref('/messages/').child(this.broadcast.members[i]).child(firebase.auth().currentUser.uid).push(messages).then((snap) => {\n            var keys = snap.key;\n            snap.update({\n              key: keys\n            })\n          })\n          this.afDB.database.ref('conversations').child(this.broadcast.members[i]).orderByChild('userId').equalTo(firebase.auth().currentUser.uid).once('value', snapshot => {\n            var res = snapshot.val()\n            if (res != null) {\n              let store = Object.keys(res)\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).child(store[0]).remove().then(() => {\n                this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                  resolve(true);\n                })\n              }).catch((err) => {\n                reject(err);\n              })\n            } else {\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                resolve(true);\n              })\n            }\n          }).then(() => {\n            this.nativeAudio.play('send')\n          })\n        }\n      })\n      return promise;\n    }\n  }\n\n  //send Photo to user\n  sendNewPhoto(url) {\n    if (this.userId) {\n      var promise = new Promise((resolve, reject) => {\n        var messages = {\n          date: new Date().toString(),\n          userId: firebase.auth().currentUser.uid,\n          type: 'image',\n          message: url,\n          read: 'unread',\n        };\n        var conversation = {\n          userId: this.userId,\n          me: \"me\",\n          view: 'broadcast',\n          message: url,\n          type: 'image',\n          read: 'unread',\n          date: new Date().toString(),\n        }\n        var convasation = {\n          userId: firebase.auth().currentUser.uid,\n          message: url,\n          me: \"you\",\n          type: 'image',\n          view: 'broadcast',\n          read: 'unread',\n          date: new Date().toString(),\n        }\n        //update group message\n        firebase.database().ref('groups').child(this.broadcastId).child('messages').push(messages).then((sucess) => {\n          var keys = sucess.key;\n          sucess.update({\n            key: keys\n          })\n          this.message = '';\n          setTimeout(() => {\n            this.scrollToBottom()\n          }, 10)\n        })\n        for (let i = 0; i < this.broadcast.members.length; i++) {\n          this.afDB.database.ref('/messages/').child(this.broadcast.members[i]).child(firebase.auth().currentUser.uid).push(messages).then((snap) => {\n            var keys = snap.key;\n            snap.update({\n              key: keys\n            })\n          })\n          this.afDB.database.ref('conversations').child(this.broadcast.members[i]).orderByChild('userId').equalTo(firebase.auth().currentUser.uid).once('value', snapshot => {\n            var res = snapshot.val()\n            if (res != null) {\n              let store = Object.keys(res)\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).child(store[0]).remove().then(() => {\n                this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                  resolve(true);\n                })\n              }).catch((err) => {\n                reject(err);\n              })\n            } else {\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                resolve(true);\n              })\n            }\n          }).then(() => {\n            this.nativeAudio.play('send')\n          })\n        }\n      })\n      return promise;\n    }\n  }\n\n  //router page\n  groupInfo() {\n    this.router.navigate(['/broadcast-info', { 'broadcastId': this.broadcastId }]);\n  }\n\n  // choose option photo to sende picturer\n  async sendPhoto() {\n    const alert = await this.actionSheet.create({\n      header: \"Send Photo  Message\",\n      buttons: [\n        {\n          text: 'Camera',\n          icon: 'camera',\n          handler: () => {\n            //Upload the image and return pormise\n            this.uploadPhotoMessage(this.camera.PictureSourceType.CAMERA).then((url) => {\n              this.sendNewPhoto(url);\n            })\n          },\n        },\n        {\n          text: 'Gallery',\n          icon: 'images',\n          handler: () => {\n            // Upload the image and retunr pormise\n            this.uploadPhotoMessage(this.camera.PictureSourceType.PHOTOLIBRARY).then((url) => {\n              //process photo massge on the database\n              this.sendNewPhoto(url);\n            })\n          },\n        },\n        {\n          text: 'Cancel',\n          icon: 'help-circle',\n          role: 'cancel',\n          handler: () => {\n          }\n        }\n      ]\n    })\n    alert.present();\n  }\n\n  // this handle the upload to the firebase \n  // it handle the selection from the image after will be upload to firebase storage \n  // also will be return the download url\n  uploadPhotoMessage(sourceType) {\n    return new Promise((resolve, reject) => {\n      this.broadcastPhotoOption.sourceType = sourceType;\n      this.camera.getPicture(this.broadcastPhotoOption).then((imageData) => {\n        let url = \"data:image/jpeg;base64,\" + imageData;\n        let imgBlob = this.imgURItoBlob(url);\n        let metadata = {\n          'contentType': imgBlob.type\n        };\n\n        alert(url)\n        this.loading.showPro();\n        const ref = this.afstorage.ref('/Messaging/' + firebase.auth().currentUser.uid + this.generateFilename())\n        const task = ref.put(imgBlob, metadata)\n        task.snapshotChanges().pipe(\n          finalize(async () => {\n            ref.getDownloadURL().subscribe((url) => {\n              resolve(url);\n              this.loading.hidePro();\n            })\n          })\n        ).subscribe()\n      })\n    })\n  }\n\n  // this handel the record the voice mooden\n  record() {\n    // create the media store the audio file mp3\n    this.audioFile = this.media.create(this.file.externalDataDirectory + `${this.userId}.mp3`);\n    // start the recorde voice\n    this.audioFile.startRecord()\n    // this.statusRecord = \"Recording...\"\n    this.recording = true;\n  }\n  stopRec() {\n    // stop the recorde voice\n    this.audioFile.stopRecord()\n    // this.statusRecord = \"Stopped...\"\n    this.recording = false;\n\n    this.uploadRec().then((url) => {\n      this.sendNewAudio(url)\n    })\n  }\n\n  //send Photo to user\n  sendNewAudio(url) {\n    if (this.userId) {\n      var promise = new Promise((resolve, reject) => {\n        var messages = {\n          date: new Date().toString(),\n          userId: firebase.auth().currentUser.uid,\n          type: 'audio',\n          message: url,\n          read: 'unread',\n        };\n        var conversation = {\n          userId: this.userId,\n          message: url,\n          type: 'audio',\n          me: \"me\",\n          view: 'broadcast',\n          date: new Date().toString(),\n          read: 'unread',\n        }\n        var convasation = {\n          userId: firebase.auth().currentUser.uid,\n          message: url,\n          me: \"you\",\n          view: 'broadcast',\n          date: new Date().toString(),\n          type: 'audio',\n          read: 'unread',\n        }\n        //update group message\n        firebase.database().ref('groups').child(this.broadcastId).child('messages').push(messages).then((sucess) => {\n          var keys = sucess.key;\n          sucess.update({\n            key: keys\n          })\n          this.message = '';\n          setTimeout(() => {\n            this.scrollToBottom()\n          }, 10)\n        })\n        for (let i = 0; i < this.broadcast.members.length; i++) {\n          this.afDB.database.ref('/messages/').child(this.broadcast.members[i]).child(firebase.auth().currentUser.uid).push(messages).then((snap) => {\n            var keys = snap.key;\n            snap.update({\n              key: keys\n            })\n          })\n          this.afDB.database.ref('conversations').child(this.broadcast.members[i]).orderByChild('userId').equalTo(firebase.auth().currentUser.uid).once('value', snapshot => {\n            var res = snapshot.val()\n            if (res != null) {\n              let store = Object.keys(res)\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).child(store[0]).remove().then(() => {\n                this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                  resolve(true);\n                })\n              }).catch((err) => {\n                reject(err);\n              })\n            } else {\n              this.afDB.database.ref('conversations').child(this.broadcast.members[i]).push(convasation).then(() => {\n                resolve(true);\n              })\n            }\n          }).then(() => {\n            this.nativeAudio.play('send')\n          })\n        }\n      })\n      return promise;\n    }\n  }\n\n  // upload the recording voice to firebase\n  uploadRec() {\n    return new Promise((resolve) => {\n      const metadata = {\n        contentType: 'audio/mp3',\n      };\n      let fileName = `${this.userId}.mp3`\n      this.file.readAsDataURL(this.file.externalDataDirectory, fileName).then((file) => {\n        this.loading.showPro();\n        const ref = this.afstorage.ref('/audio/' + '/broadcast/' + this.generateFilenameAudio())\n        const task = ref.putString(file, firebase.storage.StringFormat.DATA_URL)\n        task.snapshotChanges().pipe(\n          finalize(async () => {\n            ref.getDownloadURL().subscribe((audioUrl) => {\n              resolve(audioUrl);\n              this.loading.hidePro();\n              this.file.removeFile(this.file.externalDataDirectory, fileName);\n            })\n          })\n        ).subscribe()\n      })\n    })\n\n  }\n\n  generateFilenameAudio() {\n    var length = 4;\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < length; i++) {\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text + \".mp3\";\n  }\n\n  //play voice from the database\n  play(audioUrl) {\n    let options: StreamingAudioOptions = {\n      successCallback: () => { },\n      errorCallback: (e) => { this.presentToast() },\n      initFullscreen: false\n    };\n    this.streamingMedia.playAudio(`${audioUrl}`, options);\n  }\n\n\n  async presentToast() {\n    const toast = await this.toast.create({\n      message: 'Something going wrong.',\n      duration: 1000\n    });\n    toast.present();\n  }\n\n  async optionDelete(key) {\n    const alert = await this.actionSheet.create({\n      header: 'Delete Message from  broadcast',\n      buttons: [\n        {\n          text: 'delete message',\n          handler: () => {\n            this.deleteMessage(key)\n          }\n        },\n        {\n          text: 'cancel',\n          handler: () => {\n          }\n        },\n      ]\n\n    })\n    await alert.present();\n  }\n\n  // this handle for the conversation delete for only user\n  deleteMessage(key) {\n    this.loading.show();\n    this.afDB.database.ref('groups').child(this.broadcastId).child('messages').orderByChild('key').equalTo(key).once('value', snapKey => {\n      var res = snapKey.val();\n      let store = Object.keys(res)\n      this.loading.hide();\n      this.afDB.database.ref('groups').child(this.broadcastId).child('messages').child(store[0]).remove()\n    })\n  }\n\n}\n"]}