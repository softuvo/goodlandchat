{"version":3,"sources":["webpack:///src/app/pages/broadcast-info/broadcast-info.page.html","webpack:///src/app/pages/broadcast-info/broadcast-info-routing.module.ts","webpack:///src/app/pages/broadcast-info/broadcast-info.module.ts","webpack:///src/app/pages/broadcast-info/broadcast-info.page.scss","webpack:///src/app/pages/broadcast-info/broadcast-info.page.ts"],"names":["routes","path","component","BroadcastInfoPageRoutingModule","imports","forChild","exports","BroadcastInfoPageModule","declarations","BroadcastInfoPage","actRoute","dataService","router","loading","afDB","broadcastId","snapshot","paramMap","get","members","valueChanges","subscribe","length","groups","broadcast","broadcastImage","img","broadcastName","name","broadcastDate","dateCreated","forEach","memberId","getUser","member","addUpdateOrRemoveMember","getCurrentUser","currentUser","uid","user","indexOf","userId","broadcastMembers","index","i","push","splice","navigate","show","database","ref","child","orderByChild","equalTo","once","snap","res","val","store","Object","keys","remove","then","hide","navigateByUrl","selector","template"],"mappings":"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","file":"pages-broadcast-info-broadcast-info-module-es5.js","sourcesContent":["export default \"<ion-header parallax imageUrl=\\\"{{broadcastImage}}\\\" maximumHeight=\\\"350\\\" expandedColor=\\\"#AAA\\\" titleColor=\\\"white\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"addMembers()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"person-add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <span style=\\\"font-size: 17px;\\n    font-weight: 600;\\n    text-overflow: ellipsis;\\n    letter-spacing: 0.3px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    display: block;\\\">{{broadcastName}}</span>\\n    </ion-title>\\n    <span style=\\\"padding-left: 15px;\\\">Created {{ broadcastDate | moment:'h:mm A'}}</span>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>  \\n  <ion-card (click)=\\\"addMembers()\\\">\\n    <ion-card-header>\\n      <ion-card-title>Add members</ion-card-title>\\n    </ion-card-header>\\n  </ion-card>\\n  <ion-card>\\n    <ion-item lines=\\\"none\\\">\\n      <ion-label>Encryption</ion-label>\\n      <ion-icon color=\\\"secondary\\\" name=\\\"lock-closed\\\" slot=\\\"end\\\"></ion-icon>\\n    </ion-item>\\n    <ion-card-content>\\n      Messages to this broadcast list are secured with end-to-end encryption. Tap to more info\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <ion-list>\\n      <ion-label>\\n        <span style=\\\"padding-left: 10px; color: var(--ion-color-secondary);\\\">{{members}} recipients</span>\\n      </ion-label>\\n      <ion-item *ngFor=\\\"let member of broadcastMembers\\\"\\n        style=\\\"background-color:transparent !important; padding-left:0 !important; margin-left:0 !important;\\\">\\n        <ion-avatar>\\n          <img src=\\\"{{member.img}}\\\">\\n        </ion-avatar>\\n        <ion-label style=\\\"font-weight: 600; padding-left: 10px;\\\">\\n          <span style=\\\"font-size:16px; text-transform: capitalize;\\\">\\n            {{member.nikeName}}\\n          </span>\\n          <span style=\\\"display: flex;margin-top: 6px;\\\">\\n            <span style=\\\"opacity: 0.6;font-size: 13px;margin-left: 2px;\\\">\\n              {{member.description}}\\n            </span>\\n          </span>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-button (click)=\\\"deleteBroadcast()\\\" color=\\\"danger\\\" fill=\\\"clear\\\">Delete broadcast list\\n      <ion-icon slot=\\\"start\\\" color=\\\"danger\\\" name=\\\"trash\\\"></ion-icon>\\n    </ion-button>\\n  </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BroadcastInfoPage } from './broadcast-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BroadcastInfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BroadcastInfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BroadcastInfoPageRoutingModule } from './broadcast-info-routing.module';\n\nimport { BroadcastInfoPage } from './broadcast-info.page';\nimport { IonicHeaderParallaxModule } from 'ionic-header-parallax';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PipesModule,\n    IonicHeaderParallaxModule,\n    BroadcastInfoPageRoutingModule\n  ],\n  declarations: [BroadcastInfoPage]\n})\nexport class BroadcastInfoPageModule {}\n","export default \"ion-card {\\n  width: 100%;\\n  margin: 0;\\n  margin-bottom: 10px;\\n  position: relative;\\n  top: 50px;\\n  padding-top: 20px;\\n}\\n\\nion-icon {\\n  font-size: x-large;\\n  padding: 10px;\\n}\\n\\ndiv.profileimage {\\n  display: flex;\\n  flex-flow: row nowrap;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\ndiv.profileimage img {\\n  height: 6pc;\\n  padding: 2px;\\n}\\n\\n.thumnails {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n}\\n\\n.thumnails .list-thumbnail {\\n  height: 100%;\\n  white-space: nowrap;\\n}\\n\\n.thumnails .list-thumbnail .img-thumb {\\n  display: inline-block;\\n}\\n\\n.adminColor {\\n  border: solid 2px var(--ion-color-primary);\\n  border-radius: 6px;\\n  padding: 1px;\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYnJvYWRjYXN0LWluZm8vYnJvYWRjYXN0LWluZm8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLGFBQUE7QUFDSjs7QUFDQTtFQUNJLGFBQUE7RUFDQSxxQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFESTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBR1I7O0FBQ0E7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0FBRUo7O0FBREk7RUFDSSxZQUFBO0VBQ0EsbUJBQUE7QUFHUjs7QUFGUTtFQUNJLHFCQUFBO0FBSVo7O0FBQ0E7RUFDSSwwQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLCtCQUFBO0FBRUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9icm9hZGNhc3QtaW5mby9icm9hZGNhc3QtaW5mby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0b3A6IDUwcHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcclxufVxyXG5cclxuaW9uLWljb24ge1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxufVxyXG5kaXYucHJvZmlsZWltYWdlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogNnBjO1xyXG4gICAgICAgIHBhZGRpbmc6IDJweDtcclxuICAgIH1cclxufVxyXG5cclxuLnRodW1uYWlscyB7XHJcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgICBvdmVyZmxvdy15OiBoaWRkZW47XHJcbiAgICAubGlzdC10aHVtYm5haWwge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgIC5pbWctdGh1bWIge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4uYWRtaW5Db2xvciB7XHJcbiAgICBib3JkZXI6IHNvbGlkIDJweCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG59XHJcbiJdfQ== */\";","/*\n* WhatsApp in Ionic 5 application  (https://github.com/habupagas/ionic-5-WhatsApp)\n* Copyright  @2020-present. All right reserved.\n* Author: Abubakar Pagas\n*/\n\n\nimport { LoadingService } from './../../services/loading.service';\nimport { DataService } from './../../services/data.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-broadcast-info',\n  templateUrl: './broadcast-info.page.html',\n  styleUrls: ['./broadcast-info.page.scss'],\n})\nexport class BroadcastInfoPage implements OnInit {\n\n  broadcastId: any;\n  members: any;\n  broadcast: any;\n  public broadcastMembers: any;\n  broadcastImage: any;\n  user;\n  broadcastName: any;\n  broadcastDate: any;\n\n\n  constructor(\n    private actRoute: ActivatedRoute,\n    public dataService: DataService,\n    private router: Router,\n    public loading: LoadingService,\n    public afDB: AngularFireDatabase,\n\n  ) {\n    // get the broadcast ID\n    this.broadcastId = this.actRoute.snapshot.paramMap.get('broadcastId');\n  }\n\n  ngOnInit() {\n    //get the member length\n    this.dataService.members(this.broadcastId).valueChanges().subscribe((length) => {\n      this.members = length.length;\n    })\n    // list image base image type\n    this.dataService.groups(this.broadcastId).valueChanges().subscribe((broadcast) => {\n      //pass the information to the veriable\n      this.broadcast = broadcast;\n      this.broadcastImage = broadcast.img;\n      this.broadcastName = broadcast.name;\n      this.broadcastDate = broadcast.dateCreated\n      if (broadcast.members) {\n        // list member for each and their info\n        broadcast.members.forEach((memberId) => {\n          this.dataService.getUser(memberId).valueChanges().subscribe((member) => {\n            this.addUpdateOrRemoveMember(member);\n          });\n        });\n      }\n    });\n    //let get the user details\n    this.dataService.getCurrentUser(firebase.auth().currentUser.uid).valueChanges().subscribe((user) => {\n      this.user = user;\n    })\n\n  }\n\n  // Get names of the members to be added to the group.\n  // Check if user exists in the group then add/update user.\n  // If the user has already left the group, remove user from the list.\n  addUpdateOrRemoveMember(member) {\n    if (this.broadcast) {\n      if (this.broadcast.members.indexOf(member.userId) > -1) {\n        // User exists in the group.\n        if (!this.broadcastMembers) {\n          this.broadcastMembers = [member];\n        } else {\n          var index = -1;\n          for (var i = 0; i < this.broadcastMembers.length; i++) {\n            if (this.broadcastMembers[i].userId == member.userId) {\n              index = i;\n            }\n          }\n          // Add/Update User.\n          if (index > -1) {\n            this.broadcastMembers[index] = member;\n          } else {\n            this.broadcastMembers.push(member);\n          }\n        }\n      } else {\n        // User already left the group, remove member from list.\n        var index = -1;\n        for (var i = 0; i < this.broadcastMembers.length; i++) {\n          if (this.broadcastMembers[i].userId == member.userId) {\n            index = i;\n          }\n        }\n        if (index > -1) {\n          this.broadcastMembers.splice(index, 1);\n        }\n      }\n    }\n  }\n\n  // router to the add members pages with the broadcast ID\n  addMembers() {\n    this.router.navigate(['/addmembers', { 'Id': this.broadcastId }])\n  }\n  //this handle delete the broadcast \n  async deleteBroadcast() {\n    // loading show \n    this.loading.show()\n    await this.afDB.database.ref('conversations').child(firebase.auth().currentUser.uid).orderByChild('key').equalTo(this.broadcastId).once('value', snap => {\n      var res = snap.val();\n      if (res != null) {\n        let store = Object.keys(res)\n        this.afDB.database.ref('conversations').child(firebase.auth().currentUser.uid).child(store[0]).remove();\n      }\n    }).then(() => {\n      //also remove from the group database\n      this.afDB.database.ref('groups').child(this.broadcastId).remove();\n      // loading hide\n      this.loading.hide();\n      //aslo then router to the home page\n      this.router.navigateByUrl('/home')\n    })\n\n  }\n}\n"]}