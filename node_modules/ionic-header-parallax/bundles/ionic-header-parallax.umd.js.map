{"version":3,"file":"ionic-header-parallax.umd.js","sources":["ng://ionic-header-parallax/lib/parallax.directive.ts","ng://ionic-header-parallax/lib/ionic-header-parallax.module.ts"],"sourcesContent":["import { Directive, ElementRef, Input, Renderer2, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'ion-header[parallax]'\r\n})\r\nexport class ParallaxDirective implements AfterViewInit {\r\n  @Input() imageUrl: string;\r\n  @Input() expandedColor: string;\r\n  @Input() titleColor: string;\r\n  @Input() maximumHeight = 300;\r\n\r\n  header: HTMLElement;\r\n  toolbar: HTMLElement;\r\n  toolbarBackground: HTMLElement;\r\n  imageOverlay: HTMLElement;\r\n  colorOverlay: HTMLElement;\r\n  barButtons: HTMLElement;\r\n  scrollContent: HTMLElement;\r\n  headerHeight: any;\r\n  headerMinHeight: number;\r\n  translateAmt: any;\r\n  scaleAmt: any;\r\n  scrollTop: any;\r\n  lastScrollTop: any;\r\n  ticking: any;\r\n  originalToolbarBgColor: string;\r\n  overlayTitle: HTMLElement;\r\n  ionTitle: HTMLElement;\r\n  overlayButtons: HTMLElement[];\r\n  scrollContentPaddingTop;\r\n\r\n  constructor(public headerRef: ElementRef<HTMLElement>, public renderer: Renderer2) {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => {\r\n      this.initElements();\r\n      this.initStyles();\r\n      this.initEvents();\r\n    }, 100);\r\n  }\r\n\r\n  initElements() {\r\n    const parentElement = this.headerRef.nativeElement.parentElement;\r\n    this.header = this.headerRef.nativeElement;\r\n\r\n    this.toolbar = this.header.querySelector('ion-toolbar');\r\n    if (!this.toolbar) { throw new Error('Parallax directive requires a toolbar or navbar element on the page to work.'); }\r\n    this.ionTitle = this.toolbar.querySelector('ion-title');\r\n    this.toolbarBackground = this.toolbar.shadowRoot.querySelector('.toolbar-background');\r\n\r\n    this.barButtons = this.headerRef.nativeElement.querySelector('ion-buttons');\r\n    const ionContent = parentElement.querySelector('ion-content');\r\n    this.scrollContent = ionContent.shadowRoot.querySelector('.inner-scroll');\r\n    if (!this.scrollContent) { throw new Error('Parallax directive requires an <ion-content> element on the page to work.'); }\r\n\r\n    // Create image overlay\r\n    this.imageOverlay = this.renderer.createElement('div');\r\n    this.renderer.addClass(this.imageOverlay, 'image-overlay');\r\n\r\n    this.colorOverlay = this.renderer.createElement('div');\r\n    this.renderer.addClass(this.colorOverlay, 'color-overlay');\r\n\r\n    this.colorOverlay.appendChild(this.imageOverlay);\r\n    this.header.appendChild(this.colorOverlay);\r\n\r\n    // Copy title and buttons\r\n    this.overlayTitle = this.ionTitle && this.ionTitle.cloneNode(true) as HTMLElement;\r\n    if (this.overlayTitle) {\r\n      this.renderer.addClass(this.overlayTitle, 'parallax-title');\r\n      setTimeout(() => {\r\n        const toolbarTitle = this.overlayTitle.shadowRoot.querySelector('.toolbar-title');\r\n        this.renderer.setStyle(toolbarTitle, 'pointer-events', 'unset');\r\n      });\r\n    }\r\n\r\n    if (this.overlayTitle) { this.imageOverlay.appendChild(this.overlayTitle); }\r\n    if (this.barButtons) { this.imageOverlay.appendChild(this.barButtons); }\r\n  }\r\n\r\n  initStyles() {\r\n    this.headerHeight = this.scrollContent.clientHeight;\r\n    this.ticking = false;\r\n\r\n    if (!this.scrollContent || !toolbar) { return; }\r\n\r\n    // fetch styles\r\n    this.maximumHeight = parseFloat(this.maximumHeight.toString());\r\n    this.headerMinHeight = this.toolbar.offsetHeight;\r\n    this.scrollContentPaddingTop = window.getComputedStyle(this.scrollContent, null).paddingTop.replace('px', '');\r\n    this.scrollContentPaddingTop = parseFloat(this.scrollContentPaddingTop);\r\n    this.originalToolbarBgColor = window.getComputedStyle(this.toolbarBackground, null).backgroundColor;\r\n\r\n    // header and title\r\n    this.renderer.setStyle(this.header, 'position', 'relative');\r\n    if (this.overlayTitle) {\r\n      this.renderer.setStyle(this.overlayTitle, 'color', this.titleColor);\r\n      this.renderer.setStyle(this.overlayTitle, 'position', 'absolute');\r\n      this.renderer.setStyle(this.overlayTitle, 'width', '100%');\r\n      this.renderer.setStyle(this.overlayTitle, 'height', '100%');\r\n      this.renderer.setStyle(this.overlayTitle, 'text-align', 'center');\r\n    }\r\n\r\n    // color overlay\r\n    this.renderer.setStyle(this.colorOverlay, 'background-color', this.originalToolbarBgColor);\r\n    this.renderer.setStyle(this.colorOverlay, 'height', `${this.maximumHeight}px`);\r\n    this.renderer.setStyle(this.colorOverlay, 'position', 'absolute');\r\n    this.renderer.setStyle(this.colorOverlay, 'top', `${-this.headerMinHeight * 0}px`);\r\n    this.renderer.setStyle(this.colorOverlay, 'left', '0');\r\n    this.renderer.setStyle(this.colorOverlay, 'width', '100%');\r\n    this.renderer.setStyle(this.colorOverlay, 'z-index', '10');\r\n    this.renderer.setStyle(this.colorOverlay, 'pointer-events', 'none');\r\n\r\n    // image overlay\r\n    this.renderer.setStyle(this.imageOverlay, 'background-color', this.expandedColor);\r\n    this.renderer.setStyle(this.imageOverlay, 'background-image', `url(${this.imageUrl || ''})`);\r\n    this.renderer.setStyle(this.imageOverlay, 'height', `100%`);\r\n    this.renderer.setStyle(this.imageOverlay, 'width', '100%');\r\n    this.renderer.setStyle(this.imageOverlay, 'pointer-events', 'none');\r\n    this.renderer.setStyle(this.imageOverlay, 'background-size', 'cover');\r\n    this.renderer.setStyle(this.imageOverlay, 'background-position', 'center');\r\n\r\n    // .toolbar-background\r\n    this.renderer.setStyle(this.toolbarBackground, 'background-color', this.originalToolbarBgColor);\r\n\r\n    // .bar-buttons\r\n    if (this.barButtons) {\r\n      this.renderer.setStyle(this.barButtons, 'pointer-events', 'all');\r\n      Array.from(this.barButtons.children).forEach(btn => {\r\n        this.renderer.setStyle(btn, 'color', this.titleColor);\r\n      });\r\n    }\r\n\r\n    // .scroll-content\r\n    if (this.scrollContent) {\r\n      this.renderer.setAttribute(this.scrollContent, 'parallax', '');\r\n      this.renderer.setStyle(this.scrollContent, 'padding-top',\r\n        `${this.maximumHeight + this.scrollContentPaddingTop - this.headerMinHeight}px`);\r\n    }\r\n  }\r\n\r\n  initEvents() {\r\n    window.addEventListener('resize', () => {\r\n      this.headerHeight = this.scrollContent.clientHeight;\r\n    }, false);\r\n\r\n    if (this.scrollContent) {\r\n      this.scrollContent.addEventListener('scroll', (e) => {\r\n\r\n        if (!this.ticking) {\r\n          window.requestAnimationFrame(() => {\r\n            this.updateElasticHeader();\r\n          });\r\n        }\r\n        this.ticking = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  updateElasticHeader() {\r\n    if (!this.scrollContent || !toolbar) { return; }\r\n\r\n    this.scrollTop = this.scrollContent.scrollTop;\r\n    if (this.scrollTop >= 0) {\r\n      this.translateAmt = this.scrollTop / 2;\r\n      this.scaleAmt = 1;\r\n    } else {\r\n      this.translateAmt = 0;\r\n      this.scaleAmt = -this.scrollTop / this.headerHeight + 1;\r\n    }\r\n\r\n    // Parallax total progress\r\n    this.headerMinHeight = this.toolbar.offsetHeight;\r\n    let progress = (this.maximumHeight - this.scrollTop - this.headerMinHeight) / (this.maximumHeight - this.headerMinHeight);\r\n    progress = Math.max(progress, 0);\r\n\r\n    // ion-header: set height\r\n    let targetHeight = this.maximumHeight - this.scrollTop;\r\n    targetHeight = Math.max(targetHeight, this.headerMinHeight);\r\n\r\n    // .toolbar-background: change color\r\n    this.renderer.setStyle(this.imageOverlay, 'height', `${targetHeight}px`);\r\n    this.renderer.setStyle(this.imageOverlay, 'opacity', `${progress}`);\r\n    this.renderer.setStyle(this.colorOverlay, 'height', `${targetHeight}px`);\r\n    this.renderer.setStyle(this.colorOverlay, 'opacity', targetHeight > this.headerMinHeight ? '1' : '0');\r\n    this.renderer.setStyle(this.toolbarBackground, 'background-color',\r\n      targetHeight > this.headerMinHeight ? 'transparent' : this.originalToolbarBgColor);\r\n\r\n    // .bar-buttons\r\n    if (this.barButtons) {\r\n      if (targetHeight > this.headerMinHeight) {\r\n        this.imageOverlay.append(this.barButtons);\r\n        Array.from(this.barButtons.children).forEach(btn => {\r\n          this.renderer.setStyle(btn, 'color', this.titleColor);\r\n        });\r\n      } else {\r\n        this.toolbar.append(this.barButtons);\r\n        Array.from(this.barButtons.children).forEach(btn => {\r\n          this.renderer.setStyle(btn, 'color', 'unset');\r\n        });\r\n      }\r\n    }\r\n\r\n    this.ticking = false;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { ParallaxDirective } from './parallax.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ParallaxDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    ParallaxDirective\r\n  ]\r\n})\r\nexport class IonicHeaderParallaxModule { }\r\n"],"names":["Directive","ElementRef","Renderer2","Input","NgModule"],"mappings":"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"}